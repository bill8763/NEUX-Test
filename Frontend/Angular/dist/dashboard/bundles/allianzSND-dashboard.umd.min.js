!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/common"),require("rxjs"),require("date-fns"),require("@allianzSND/integration-calendar-customer"),require("@allianzSND/ui"),require("@allianzSND/progress"),require("@angular/core"),require("@allianzSND/core"),require("@allianzSND/goal"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("@allianzSND/dashboard",["exports","@angular/common","rxjs","date-fns","@allianzSND/integration-calendar-customer","@allianzSND/ui","@allianzSND/progress","@angular/core","@allianzSND/core","@allianzSND/goal","rxjs/operators"],t):t((e.allianzSND=e.allianzSND||{},e.allianzSND.dashboard={}),e.ng.common,e.rxjs,e.dateFns,e.integrationCalendarCustomer,e.ui,e.progress,e.ng.core,e.i1,e.goal,e.rxjs.operators)}(this,function(e,t,s,r,n,a,i,c,x,o,l){"use strict";var d=function(){function e(e,t,n,a){this.APP_CONFIG=e,this.showRule=t,this.translateService=n,this.elementRef=a,this.isBirthdayToday=!0,this.isHasScheduleData=!0,this.isHasBirthdayData=!0,this.translateMap=new Map,this._calendarEventList=[],this.isCalendarEventListBefore=[],this._birthdayItemList=[],this.searchBirthdayAddN=this.APP_CONFIG[this.APP_CONFIG.ENV].DASHBOARD.SearchBirthdayRange.addN,this.beforeTodayBirthdayItemList=[],this.afterTodayBirthdayItemList=[],this.eventListBGColor="#fff",this.language=new x.Language,this.viewTypeIndex=2,this.tabIndex=0,this.tabHeight=0,this._viewDate=new Date,this.weekStartsOn=1,this.today=new Date,this.yearVal=this.viewDate.getFullYear(),this.clickCalendarItem=new c.EventEmitter,this.completeLoadEvent=new c.EventEmitter,this.updateCalendarEventDetail=new c.EventEmitter,this.clickDate=new c.EventEmitter}return Object.defineProperty(e.prototype,"calendarEventList",{get:function(){return this._calendarEventList},set:function(e){this._calendarEventList=e,this.isHasScheduleData=this.judgeIsScheduleHasData()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"birthdayItemList",{get:function(){return this._birthdayItemList},set:function(e){var t=this;0==e.length?this.isHasBirthdayData=!1:this.isHasBirthdayData=!0,this._birthdayItemList=e,this.beforeTodayBirthdayItemList=[],this.afterTodayBirthdayItemList=[],this.beforeTodayBirthdayItemList=this._sortBirthDayListByName(this._birthdayItemList.filter(function(e){return t.itemBirthdayIsBeforeToday(e)})),this.afterTodayBirthdayItemList=this._sortBirthDayListByName(this._birthdayItemList.filter(function(e){return!t.itemBirthdayIsBeforeToday(e)}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"viewDate",{get:function(){return this._viewDate},set:function(e){this._viewDate.getTime()!=e.getTime()&&(this.changeViewDate(new Date(e)),this.yearVal=this._viewDate.getFullYear())},enumerable:!0,configurable:!0}),e.prototype.tabChangeEvent=function(e){var t=this,n=this.elementRef.nativeElement.querySelector(".layut-home-list-block .tab-content-block");n.style.opacity=0,this.tabHeight=this.tabContent.nativeElement.scrollHeight,this.tabIndex=e,this.todayDisplayStr=this.convertCalendarDateToShow(this.today);var a=r.addDays(this.today,this.searchBirthdayAddN);this.endDateDisplayStr=this.convertCalendarDateToShow(a),console.log("this.tabIndex:",this.tabIndex),0===this.tabIndex?setTimeout(function(){t.scrollToContent(0),n.style.opacity=1},100):1===this.tabIndex&&setTimeout(function(){t.scrollToContent(1),n.style.opacity=1},100)},e.prototype.scrollToContent=function(e){var t=this.tabContent.nativeElement.querySelector(".tab-content_"+e).querySelector(".ts-today"),n=this.tabContent.nativeElement;if(null!==t){var a=t.offsetTop-50;console.log("this.tabHeigh",this.tabHeight),console.log("scrollEle.offsetTop",t.offsetTop),n.scrollTop=a}},e.prototype.onClickEventItem=function(e,t){this.clickCalendarItem.emit({showDate:e,eventList:t})},e.prototype.monthDayClicked=function(e){this.clickDate.emit(e)},e.prototype.switchMonthClicked=function(e){this.clickDate.emit(e)},e.prototype.itemBirthdayIsToday=function(e){return this.today.getMonth()+1==parseInt(e.birthdayMonth)&&this.today.getDate()==parseInt(e.birthdayDate)},e.prototype.itemBirthdayIsBeforeToday=function(e){var t=Date.UTC(2e3,this.today.getMonth()+1,this.today.getDate()),n=Date.UTC(2e3,parseInt(e.birthdayMonth),parseInt(e.birthdayDate));return console.debug("compare birthday",t,n),n<t},e.prototype.judgeIsScheduleHasData=function(){return 0<this._calendarEventList.filter(function(e){return 0<e.eventList.length}).length},e.prototype.ngOnInit=function(){this.tabChangeEvent(0),this.windowWidth=window.innerWidth,console.log("this.windowWidth",this.windowWidth)},e.prototype.ngAfterViewInit=function(){var e=this;this.calendarListContents.changes.subscribe(function(){e.scrollToContent(0)})},e.prototype.convertNameToShow=function(e,t){return this.showRule?this.showRule.convertName(e,t):(x.StringUtils.isNotEmpty(e)?e:"")+(x.StringUtils.isNotEmpty(t)?" "+t:"")},e.prototype.convertBirthdayToShow=function(e,t){var n=new Date(r.getYear(new Date)+"/"+e+"/"+t);return this._convertDateWithoutYear(n)},e.prototype.convertCalendarDateToShow=function(e){return this._convertDateWithoutYear(e)},e.prototype._convertDateWithoutYear=function(e){return this.showRule?this.showRule.convertDateWithoutYear(e):r.format(e,"MM/dd")},e.prototype._sortBirthDayListByName=function(e){var s=this,t=e.map(function(e){return e.clone()});return t.sort(function(e,t){var n=s._comapare(e.birthdayMonth,t.birthdayMonth);if(0!==n)return n;var a=s._comapare(e.birthdayDate,t.birthdayDate);if(0!==a)return a;var i=x.StringUtils.isNotEmpty(e.lastName)?e.lastName:"",o=x.StringUtils.isNotEmpty(t.lastName)?t.lastName:"";return!x.StringUtils.isHasChinese(i)&&x.StringUtils.isHasChinese(o)?-1:x.StringUtils.isHasChinese(i)&&!x.StringUtils.isHasChinese(o)?1:i.localeCompare(o,"zh-Hant")}),t},e.prototype._comapare=function(e,t){return e<t?-1:t<e?1:0},e.decorators=[{type:c.Component,args:[{selector:"app-dashboard-list",template:'<div class="layut-home-list-block">\n  \x3c!-- top calendar --\x3e\n\n  <app-ui-calendar-month-collapse class="calendar-block" [displayMonthFormat]="\'MM/dd EEE\'" [today]="today"\n    [viewDate]="viewDate" [weekStartsOn]="weekStartsOn" [translateMap]="translateMap"\n    (onClickDate)="monthDayClicked($event)" [eventList]="eventMonthList" (onSwitchMonth)="switchMonthClicked($event)">\n  </app-ui-calendar-month-collapse>\n  \x3c!-- end of tab calendar --\x3e\n  \x3c!-- tab detail block --\x3e\n  \x3c!-- tab --\x3e\n  <div class="tab-btn-block">\n    <app-ui-tab-style1 tabInfo [action]="\'dashboardListTab\'" (onTabChildClick)="tabChangeEvent($event)">\n      <app-ui-tab-child>{{language.homeSchedule | translate}}</app-ui-tab-child>\n      <app-ui-tab-child>{{language.homeBirthday | translate}}</app-ui-tab-child>\n    </app-ui-tab-style1>\n  </div>\n\n  \x3c!-- end of tab --\x3e\n\n  \x3c!-- tab content --\x3e\n  <div #tabContent class="tab-content-block" [ngClass]="windowWidth >= 1024 ? \'stop-scroll-block\' :\'\'">\n    <div class="tab-content_1 active" *ngIf="tabIndex===1" [ngClass]="{\'fullHeight\': !isHasBirthdayData}">\n      \x3c!-- birthday --\x3e\n      <ng-container #birthdayList *ngIf="isHasBirthdayData; else noBirthdayData">\n        <div class="tab-content-detail">\n          <ul class="list-text-block">\n            <li class="list-text-item style-grey" *ngFor="let item of beforeTodayBirthdayItemList">\n              <p class="list-text_title"> {{convertNameToShow(item.firstName, item.lastName)}} </p>\n              <p class="list-text_date"> {{convertBirthdayToShow(item.birthdayMonth,item.birthdayDate)}} </p>\n            </li>\n          </ul>\n          <div class="title-sm"> {{ todayDisplayStr + \' - \' + endDateDisplayStr }} </div>\n          <ul class="list-text-block ts-today">\n            <li class="list-text-item" *ngFor="let item of afterTodayBirthdayItemList">\n              <p class="list-text_title"> {{convertNameToShow(item.firstName, item.lastName)}} </p>\n              <p class="list-text_date"> {{convertBirthdayToShow(item.birthdayMonth,item.birthdayDate)}} </p>\n              <span *ngIf="itemBirthdayIsToday(item)" class="tag">{{language.today | translate}}</span>\n            </li>\n          </ul>\n        </div>\n        \x3c!-- end of tab detail --\x3e\n      </ng-container>\n      \x3c!-- end of birthday --\x3e\n      \x3c!-- no data --\x3e\n      <ng-template #noBirthdayData>\n        <div class="tab-content-detail skelton-layout nodata-layout">\n          <div class="theme-loading" style="background-image:url(\'assets/img/nodata-dashboard-birthday.svg\')">\n            <p class="nodata-text">{{language.noBirthday | translate}}</p>\n          </div>\n        </div>\n      </ng-template>\n      \x3c!-- end of no data --\x3e\n\n    </div>\n    <div class="tab-content_0 active" *ngIf="tabIndex===0" [ngClass]="{\'fullHeight\': !isHasScheduleData}">\n      \x3c!-- event list --\x3e\n      <ng-container *ngIf="isHasScheduleData; else noScheduleData">\n        <ng-container #calendarList *ngFor="let calendar of _calendarEventList; let isCalendarListReady = last">\n          <div *ngIf="calendar.eventList.length > 0" class="schedule-list-block"\n            [ngClass]="[calendar.isToday ? \'ts-today\': \'\']">\n            <div class="title-sm"> {{convertCalendarDateToShow(calendar.showDate)}} </div>\n            \x3c!-- <div *ngIf="calendar.eventList.length == 0" class="tab-content-detail">\n                <p class="text-no">No appointment</p>\n              </div> --\x3e\n            <app-ui-calendar-event-list class="tab-content-detail" [translateMap]="translateMap"\n              [colorCode]="eventListBGColor" [eventList]="calendar.eventList"\n              [textColorStyle]="calendar.isBeforeToday ? \'grey\': \'\'"\n              (clickEvent)="onClickEventItem(calendar.showDate, $event)">\n            </app-ui-calendar-event-list>\n\n          </div>\n        </ng-container>\n      </ng-container>\n      \x3c!-- end event list --\x3e\n      \x3c!-- no data --\x3e\n      <ng-template #noScheduleData>\n        <div class="tab-content-detail skelton-layout nodata-layout">\n          <div class="theme-loading" style="background-image:url(\'assets/img/nodata-dashboard-schedule.svg\')">\n            <p class="nodata-text">{{language.noSchedule | translate}}</p>\n          </div>\n        </div>\n      </ng-template>\n      \x3c!-- end of no data --\x3e\n\n    </div>\n  </div>\n\n  \x3c!-- end of tab content --\x3e\n\n  \x3c!-- end of tab detail block --\x3e\n</div>',styles:["@keyframes fadein{from{opacity:0}to{opacity:1}}@-webkit-keyframes fadein{from{opacity:0}to{opacity:1}}[class*=tab-content_]{opacity:0;transition:none;position:absolute;z-index:-1;-webkit-transform-origin:top;transform-origin:top}[class*=tab-content_]:not(.active) *{display:none}[class*=tab-content_].active{position:relative;opacity:1;z-index:1;transition:.2s;display:flex;flex-wrap:wrap}.tab-content-block{height:100%;opacity:0}.tab-content-block [class*=tab-content_].fullHeight{height:100%}.tab-content-block .nodata-layout{height:100%;background-color:#f5f5f5}.tab-content-block .theme-loading{height:100%;background-repeat:no-repeat;background-position:right bottom;background-size:contain;display:flex;width:100%;padding:0 9%;text-align:center;justify-content:center}.tab-content-block .nodata-text{margin:130px 0 0;padding:0;font-size:.875rem;color:#414141;line-height:28px}@media (max-width:1023px){.tab-content-block .nodata-text{margin-top:20px}.tab-content-block .theme-loading{padding:0 22%}}.layut-home-list-block.active .theme-loading{background-position:0 500px!important}:host{display:block;height:100%;width:100%}.layut-home-list-block{display:flex;height:100%;flex-direction:column;width:100%}.layut-home-list-block .calendar-block{display:block;flex-shrink:0}.layut-home-list-block .tab-btn-block{display:block;padding-top:20px;flex-shrink:0}.layut-home-list-block .tab-content-block{display:block;overflow-y:auto;flex:1 1 auto;height:100%;margin-top:1px}.layut-home-list-block .tab-content-detail{padding-top:20px;width:100%}.layut-home-list-block .text-no{padding:0 20px 20px;margin:0;border-bottom:1px solid #ececec}.schedule-list-block{display:inline-block;width:100%}.title-sm{background-color:#ececec;color:#414141;font-size:.75rem;font-weight:700;padding:3px 20px}.list-text-block{padding:0;list-style-type:none}.list-text-block .list-text-item{border-bottom:1px solid #c2c2c2;padding:20px}.list-text-block .list-text-item.style-grey p{color:#c2c2c2}.list-text-block p{margin:0;padding:0}.list-text-block .list-text_title{font-size:.875rem;line-height:20px;margin-bottom:5px;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.list-text-block .list-text_date{font-size:.875rem;line-height:20px;display:inline-block;vertical-align:middle}.list-text-block .tag{display:inline-block;font-size:.75rem;min-height:18px;padding:3px 5px;margin-left:12px;background-color:#003781;letter-spacing:.5px;color:#fff}"]}]}],e.ctorParameters=function(){return[{type:undefined,decorators:[{type:c.Inject,args:[x.ConfigToken]}]},{type:undefined,decorators:[{type:c.Optional},{type:c.Inject,args:[x.showRuleToken]}]},{type:x.TranslateService},{type:c.ElementRef}]},e.propDecorators={calendarListContents:[{type:c.ViewChildren,args:["calendarList"]}],calendarEventList:[{type:c.Input}],eventMonthList:[{type:c.Input}],birthdayItemList:[{type:c.Input}],viewDate:[{type:c.Input}],clickCalendarItem:[{type:c.Output}],tabContent:[{type:c.ViewChild,args:["tabContent"]}],completeLoadEvent:[{type:c.Output}],updateCalendarEventDetail:[{type:c.Output}],clickDate:[{type:c.Output}]},e}();function p(t,s,r,l){return new(r||(r=Promise))(function(e,n){function a(e){try{o(l.next(e))}catch(t){n(t)}}function i(e){try{o(l["throw"](e))}catch(t){n(t)}}function o(t){t.done?e(t.value):new r(function(e){e(t.value)}).then(a,i)}o((l=l.apply(t,s||[])).next())})}function k(a,i){var o,s,r,e,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return e={next:t(0),"throw":t(1),"return":t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function n(e){if(o)throw new TypeError("Generator is already executing.");for(;l;)try{if(o=1,s&&(r=2&e[0]?s["return"]:e[0]?s["throw"]||((r=s["return"])&&r.call(s),0):s.next)&&!(r=r.call(s,e[1])).done)return r;switch(s=0,r&&(e=[2&e[0],r.value]),e[0]){case 0:case 1:r=e;break;case 4:return l.label++,{value:e[1],done:!1};case 5:l.label++,s=e[1],e=[0];continue;case 7:e=l.ops.pop(),l.trys.pop();continue;default:if(!(r=0<(r=l.trys).length&&r[r.length-1])&&(6===e[0]||2===e[0])){l=0;continue}if(3===e[0]&&(!r||e[1]>r[0]&&e[1]<r[3])){l.label=e[1];break}if(6===e[0]&&l.label<r[1]){l.label=r[1],r=e;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(e);break}r[2]&&l.ops.pop(),l.trys.pop();continue}e=i.call(a,l)}catch(t){e=[6,t],s=0}finally{o=r=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([t,e])}}}function w(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,i,o=n.call(e),s=[];try{for(;(void 0===t||0<t--)&&!(a=o.next()).done;)s.push(a.value)}catch(r){i={error:r}}finally{try{a&&!a.done&&(n=o["return"])&&n.call(o)}finally{if(i)throw i.error}}return s}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(w(arguments[t]));return e}var u=function(){function e(e,t,n,a,i,o,s,r,l,c,d,p,g){this._clientID=e,this._messageID=t,this._messageCategory=n,this._messageType=a,this._title=i,this._description=o,this._argument=s,this._status=r,this._messageDate=l,this._messageTime=c,this._isPopup=d,this._linkStatus=p,this._isClick=g}return Object.defineProperty(e.prototype,"clientID",{get:function(){return this._clientID},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"messageID",{get:function(){return this._messageID},set:function(e){this._messageID=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"messageCategory",{get:function(){return this._messageCategory},set:function(e){this._messageCategory=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"messageType",{get:function(){return this._messageType},set:function(e){this._messageType=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"title",{get:function(){return this._title},set:function(e){this._title=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"description",{get:function(){return this._description},set:function(e){this._description=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"argument",{get:function(){return this._argument},set:function(e){this._argument=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"status",{get:function(){return this._status},set:function(e){this._status=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"messageDate",{get:function(){return this._messageDate},set:function(e){this._messageDate=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"messageTime",{get:function(){return this._messageTime},set:function(e){this._messageTime=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isPopup",{get:function(){return this._isPopup},set:function(e){this._isPopup=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"linkStatus",{get:function(){return this._linkStatus},set:function(e){this._linkStatus=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isClick",{get:function(){return this._isClick},set:function(e){this._isClick=e},enumerable:!0,configurable:!0}),e}(),h=new c.InjectionToken("showDashboardRule"),m=function(){function e(e,t,n,a,i,o){this.dispatcher=e,this.APIFactory=t,this.dateUtils=n,this.errorHandler=a,this.showRule=i,this.showDashboardRule=o,this.isFirstInDashboard=!0}return e.prototype.isFirstTime=function(){var e;return this.isFirstInDashboard?(e=!0,this.isFirstInDashboard=!1):e=!1,e},e.prototype.updateMessageStatus=function(e,t){var n=this,a=this.APIFactory.getAPI("updateDashboardMessageStatus");return a.setClientID(e),a.setStatus(t),s.Observable.create(function(t){n.dispatcher.dispatch(a).subscribe(function(e){console.debug("dashboard-service-updateDashboardMessageStatus",e),t.next(e.Header),t.complete()})})},e.prototype.getMessageByKeyword=function(e,t){var i=this,n=this.APIFactory.getAPI("getDashboardMessageList");return n.setKeyword(e),n.setPageInfo(t),n.isShow=!0,s.Observable.create(function(a){i.dispatcher.dispatch(n).subscribe(function(e){console.log("getMessageByKeyword data:",e);var t=e.Body;if(t){var n=[];t.forEach(function(e){var t=new u(e.ClientID,e.MessageID,e.MessageCategory,e.MessageType,e.Title,e.Description,e.Arguments,e.Status,i.convertDate(new Date(e.MessageTime)),i.convertTime(new Date(e.MessageTime)),e.IsPopup,e.LinkStatus,e.IsClick);n.push(t)}),a.next(n),a.complete()}else a.next(!1),a.complete()})})},e.prototype.convertDate=function(e){return e?this.showRule?this.showRule.convertDate(e):this.dateUtils.toDateString(e,"yyyy-MM-dd"):"- -"},e.prototype.convertTime=function(e){return e?this.dateUtils.toDateString(e,"shortTime"):"- -"},e.prototype.getPerformanceData=function(e,t){return void 0===t&&(t=""),"T"==e?s.from(this._getPerformanceTeamData(t)):s.from(this._getPerformancePersonalData())},e.prototype._getPerformanceTeamData=function(g){return p(this,void 0,void 0,function(){var t,n,a,i,o,s,r,l,c,d,p;return k(this,function(e){switch(e.label){case 0:console.log("into _getPerformanceTeamData"),n=null,a=[],e.label=1;case 1:return e.trys.push([1,3,,4]),o=void 0,s=this.APIFactory.getAPI("getTeamProgressMain"),r=this.APIFactory.getAPI("getGoalSettingYearConfig"),[4,Promise.all([this.dispatcher.dispatch(r).toPromise(),this.dispatcher.dispatch(s).toPromise()])];case 2:if(t=w.apply(void 0,[e.sent(),2]),o=t[0],i=t[1],console.log("TeamProgressMainResp",i),console.log("yearConfigResp",o),!o.Header.status)throw"get yearConfig fail. yearConfigResp:"+o;if(l=o.Body.filter(function(e){return"Y"==e.IsCurrent})[0].DataYear,c="monthly",this.showDashboardRule&&(c=this.showDashboardRule.showTimeBaseTitle(g)),!i.Header.status)throw"get teamProgressMain fail. teamProgressMainResp:"+i;return d="Month","Manager"!=g&&"Supervisor"!=g||(d="Year"),["FYFC","ANP"].forEach(function(t){var e=i.Body.filter(function(e){return e.DataYear==l&&e.TimeBase==d&&e.DataType==t})[0];console.log("dataobj:",e),a.push({title:"Home_"+t,MonthlyProgressTotal:-1==e.Forecast?e.Goal:e.Forecast,MonthlyProgressCurrent:e.Actual})}),n={timeBaseTitle:c,datas:a},[3,4];case 3:return p=e.sent(),this.errorHandler.handleError(new x.APPError("F00130","_getPerformanceTeamData fail!"+p.message)),[3,4];case 4:return console.log("_getPerformanceTeamData returnData:",n),[2,n]}})})},e.prototype._getPerformancePersonalData=function(){return p(this,void 0,void 0,function(){var t,n,a,i,o,s,r,l,c,d,p,g,u,h,m,b,y,f,v;return k(this,function(e){switch(e.label){case 0:h={},e.label=1;case 1:return e.trys.push([1,3,,4]),m=this.APIFactory.getAPI("getGoalSettingYearConfig"),b=this.APIFactory.getAPI("getPersonalProgress"),[4,Promise.all([this.dispatcher.dispatch(m).toPromise(),this.dispatcher.dispatch(b).toPromise()])];case 2:if(t=w.apply(void 0,[e.sent(),2]),n=t[0],a=t[1],console.log("yearConfigResp",n),console.log("personalProgressResp",a),!n.Header.status)throw"get yearConfig fail. yearConfigResp:"+n;if(y=n.Body.filter(function(e){return"Y"==e.IsCurrent})[0],i=y.DataYear,s=y.ProgressDayPointsLimit,c=y.InforceConvertPointBase,d=y.FindConvertPointBase,p=y.ScheduleConvertPointBase,g=y.MeetConvertPointBase,u=y.SubmitConvertPointBase,!a.Header.status)throw"get personalProgressResp fail. personalProgressResp:"+a;return(f=a.Body.filter(function(e){return e.DataYear==i&&"Day"==e.TimeBase&&"Actual"==e.DataType})[0]).Find=f.Find<=-1?0:f.Find,f.Schedule=f.Schedule<=-1?0:f.Schedule,f.Meet=f.Meet<=-1?0:f.Meet,f.Submit=f.Submit<=-1?0:f.Submit,f.Inforce=f.Inforce<=-1?0:f.Inforce,o=f.Find*d+f.Schedule*p+f.Meet*g+f.Submit*u+f.Inforce*c,l=a.Body.filter(function(e){return e.DataYear==i&&"Month"==e.TimeBase&&"Actual"==e.DataType})[0].FYFC,r=a.Body.filter(function(e){return e.DataYear==i&&"Month"==e.TimeBase&&"Goal"==e.DataType})[0].FYFC,h={ActivitiesPoints:o,ActivitiesPointsTotal:s,MonthlyProgressTotal:r,MonthlyProgressCurrent:l},[3,4];case 3:return v=e.sent(),this.errorHandler.handleError(new x.APPError("F00131","_getPerformancePersonalData fail!"+v.message)),[3,4];case 4:return console.log("_getPerformancePersonalData returnData:",h,JSON.stringify(h)),[2,h]}})})},e.prototype.getUserLevel=function(){return"diamond"},e.prototype.changeMessageStatus=function(n,a,i){var o=this;return s.Observable.create(function(t){console.log("into changeMessageStatus :",n,a,i);var e=o.APIFactory.getAPI("ChangeMessageStatus");e.messageID=n,e.col=a,e.val=i,o.dispatcher.dispatch(e).toPromise().then(function(e){console.log("changeMessageStatus resp",e),t.next(e.Header),t.complete()})})},e.decorators=[{type:c.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:x.APIDispatch},{type:x.APIFactory},{type:x.DateUtils},{type:c.ErrorHandler},{type:undefined,decorators:[{type:c.Optional},{type:c.Inject,args:[x.showRuleToken]}]},{type:undefined,decorators:[{type:c.Optional},{type:c.Inject,args:[h]}]}]},e.ngInjectableDef=c.defineInjectable({factory:function(){return new e(c.inject(x.APIDispatch),c.inject(x.APIFactory),c.inject(x.DateUtils),c.inject(c.ErrorHandler),c.inject(x.showRuleToken,8),c.inject(h,8))},token:e,providedIn:"root"}),e}(),b=function(){function e(e,t){this.showDashboardRule=e,this.dashboardService=t,this._messageList=[],this.language=new x.Language,this.userImgUrl="",this.userAgentName="",this.tabIndex=0,this.userLevel=null,this.onClickLink=new c.EventEmitter,this.filterByKeyword=new c.EventEmitter,this.clickMessage=new c.EventEmitter,this.changeCommitmentStatus=new c.EventEmitter,this.init()}return Object.defineProperty(e.prototype,"messageList",{get:function(){return this._messageList},set:function(e){this._messageList=e,console.log("detail message: ",this._messageList)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"loginInfo",{get:function(){return this._loginInfo},set:function(e){var t=this;this._loginInfo=e,this.showDashboardRule&&this.showDashboardRule.dashboardShowLoginInfo(e).subscribe(function(e){t.userImgUrl=e.imgUrl,t.userAgentName=e.showName})},enumerable:!0,configurable:!0}),e.prototype.tabChangeEvent=function(e){this.tabIndex=e},e.prototype.ngOnInit=function(){this.windowWidth=window.innerWidth},e.prototype.init=function(){this.userLevel=this.dashboardService.getUserLevel()},e.prototype.ClickListShow=function(){this.onClickLink.emit()},e.prototype.doFilterByKeyword=function(e){this.filterByKeyword.emit(e)},e.prototype.onChangeCommitmentStatus=function(e){this.changeCommitmentStatus.emit(e)},e.prototype.doMessageClick=function(e){this.clickMessage.emit(e)},e.decorators=[{type:c.Component,args:[{selector:"app-dashboard-detail",template:'<div class="layout-detail-block style-has-top-space">\n    <div class="space-detail">\n        \x3c!-- profile card --\x3e\n        <app-ui-card-content-btn [noPadding]="true" class=" msg-card-block msg-profile-block">\n            <ng-container infoContent>\n                <div class="card-block">\n                    <div class="profile-detail-block">\n                        <span class="img-block">\n                            <img class="img-female" [src]="userImgUrl">\n                            \x3c!-- <img class="img-male" src="assets/img/icon-msg-pesron-male.svg"> --\x3e\n                        </span>\n                        <span class="text-block">\n                            {{language.homeHi | translate}}, {{ userAgentName }}\n                        </span>\n                    </div>\n                    <div *ngIf="windowWidth < 1024" class="link-block">\n                        <app-ui-link Action [action]="\'showTodayScheduleBirthday\'" (onClick)="ClickListShow()">\n                            <ng-container textType="linktext">{{language.todayScheduleBirthday | translate}}</ng-container>\n                        </app-ui-link>\n                    </div>\n                </div>\n            </ng-container>\n        </app-ui-card-content-btn>\n        \x3c!-- end of profile card --\x3e\n        \x3c!-- perfomance --\x3e\n        <app-ui-title-style1 class="">\n            <ng-container textType="titleText"> {{language.performance | translate}}</ng-container>\n        </app-ui-title-style1>\n        <snd-dashboard-performance></snd-dashboard-performance>\n        \x3c!-- end of perfomance --\x3e\n    </div>\n    <snd-dashboard-message [messageList]="messageList" (filterByKeyword)="doFilterByKeyword($event)" (clickMessage)="doMessageClick($event)" (changeCommitmentStatus)="onChangeCommitmentStatus($event)"></snd-dashboard-message>\n</div>\n',styles:["@keyframes fadein{from{opacity:0}to{opacity:1}}@-webkit-keyframes fadein{from{opacity:0}to{opacity:1}}.space-detail{padding-right:40px;display:block}@media (max-width:1023px){.space-detail{padding-right:40px}}.layout-detail-block{background-color:#f5f5f5;padding-left:40px}.layout-detail-block .space-detail:not(.layout-nodata):last-child{padding-bottom:100px}.layout-detail-block .layout-nodata{padding-bottom:0}@media (min-width:768px){.layout-detail-block.style-has-right-space{padding-right:40px}.layout-detail-block.style-has-right-space.skelton-layout{padding-right:0}}.layout-detail-block.style-has-top-space{padding-top:40px}@media (max-width:767px){.space-detail{padding-right:5px}.layout-detail-block{padding-left:5px}.layout-detail-block.style-has-right-space{padding-right:5px}.layout-detail-block.style-has-top-space{padding-top:30px}}.layout-detail-block.style-has-btm-space{padding-bottom:100px}.space-inner-lg{padding-left:50px;padding-right:50px}@media (max-width:767px){.space-inner-lg{padding-left:5px;padding-right:5px}}.msg-profile-block{margin-bottom:20px;display:block}.msg-profile-block .card-block{display:block;padding-top:10px;padding-bottom:10px}.msg-profile-block .card-block .profile-detail-block{display:flex;align-items:center;padding:0 10px}.msg-profile-block .card-block .img-block{margin-right:20px;max-width:60px;width:100%}.msg-profile-block .card-block .img-block img{width:60px;height:60px}.msg-profile-block .card-block .img-block.img-female .img-female{display:inline-block}.msg-profile-block .card-block .img-block.img-female .img-male{display:none}.msg-profile-block .card-block .img-block.img-male .img-male{display:inline-block}.msg-profile-block .card-block .img-block.img-male .img-female{display:none}.msg-profile-block .card-block .text-block{width:calc(100% - 60px);font-weight:700;color:#414141;line-height:20px;font-size:1rem}.msg-profile-block .card-block .link-block{padding:15px 10px 5px;margin-top:15px;border-top:1px solid #c2c2c2;text-align:center}.msg-profile-block .card-block ::ng-deep .link{width:100%}"]}]}],e.ctorParameters=function(){return[{type:undefined,decorators:[{type:c.Optional},{type:c.Inject,args:[h]}]},{type:m}]},e.propDecorators={messageList:[{type:c.Input}],loginInfo:[{type:c.Input}],onClickLink:[{type:c.Output}],filterByKeyword:[{type:c.Output}],clickMessage:[{type:c.Output}],changeCommitmentStatus:[{type:c.Output}]},e}(),y=function(){function e(){this.isRead=!0,this.isHasBtn=!1,this.isHasApproved=!1,this.cardType="goal",this.imgType="img-male"}return e.prototype.ngOnInit=function(){this.imgType="img-"+this.cardType,this.linkBtnStatus()},e.prototype.linkBtnStatus=function(){"Done"==this.linkStatus?this.isHasBtn=!0:"Approve"==this.linkStatus?this.isHasBtn=!0:this.linkStatus},e.prototype.approve=function(e){},e.decorators=[{type:c.Component,args:[{selector:"app-dashboard-ui-card-msg",template:'<app-ui-card-content-btn [noPadding]="true" class="msg-card-block msg-detail-block">\n        <ng-container infoContent>\n            <div class="card-block">\n              <div class="card-type"><ng-content select=[cardType]></ng-content></div>\n              <div class="card-title-block">\n                  <span class="img-block" [ngClass]="imgType">\n                      <img class="img-goal" src="assets/img/icon-msg-goal.svg">\n                      <img class="img-cust" src="assets/img/icon-msg-cust.svg">\n                      <img class="img-progress" src="assets/img/icon-msg-progress.svg">\n                  </span>\n                  <span class="text-block">\n                      <div class="title-main">\n                          <ng-content select=[cardTitle]></ng-content>\n                        \n                      </div>\n                      <div class="title-sub">\n                        <span class="date"><ng-content select=[cardDate]></ng-content></span>\n                        <span class="time"><ng-content select=[cardTime]></ng-content></span>\n                        <span class="icon-block" [ngClass]="isRead? \'active\': \'\'">\n                            <img class="normal-img" src="assets/img/icon-msg-read-no.svg">\n                            <img class="active-img" src="assets/img/icon-msg-read.svg">\n                        </span>\n                      </div>\n                      \n                  </span>\n                  \n              </div>\n              <div class="card-detail-text">\n                <p><ng-content select=[cardDetail]></ng-content></p>\n              </div>\n              \x3c!-- btn --\x3e\n              <div class="card-btn-block" *ngIf="isHasBtn" [ngClass]="isHasApproved ? \'active\': \'\'">\n                <button class="card-btn">\n                  <app-ui-link class="card-btn_link" [isUnderLine]="false" [imgSrc]="\'assets/img/icon-arrow-long-blue.svg\'" (onClick)="approve($event)">\n                    <ng-container textType="linktext">\n                      <ng-content select=[linkStatus]></ng-content>\n                    </ng-container>\n                  </app-ui-link>\n                  <div class="card-btn_text">DONE</div>\n                </button>\n              </div>\n              \x3c!-- end of btn --\x3e\n              \n            </div>\n        </ng-container>\n    </app-ui-card-content-btn>\n    ',styles:["@keyframes fadein{from{opacity:0}to{opacity:1}}@-webkit-keyframes fadein{from{opacity:0}to{opacity:1}}.msg-card-block{display:block;margin-bottom:20px}.msg-detail-block .img-block img{width:100%}.msg-detail-block .card-block{position:relative;padding:15px 20px}.msg-detail-block .card-block .card-type{position:absolute;top:15px;right:20px;font-size:.75rem;color:#414141;border:1px solid #414141;display:flex;width:90px;flex-shrink:0;justify-content:center;align-items:center;border-radius:3px}@media screen and (min-width:1025px){.msg-detail-block .card-block .card-type{width:9vw}}.msg-detail-block .card-block .card-title-block{display:flex;align-items:center}.msg-detail-block .card-block .card-title-block .img-block{width:40px;display:flex;flex-grow:0;flex-shrink:0}.msg-detail-block .card-block .card-title-block .img-block img{width:40px;height:40px;display:none}.msg-detail-block .card-block .card-title-block .img-block.img-cust img.img-cust,.msg-detail-block .card-block .card-title-block .img-block.img-female img.img-female,.msg-detail-block .card-block .card-title-block .img-block.img-goal img.img-goal,.msg-detail-block .card-block .card-title-block .img-block.img-male img.img-male,.msg-detail-block .card-block .card-title-block .img-block.img-progress img.img-progress{display:inline-block}.msg-detail-block .card-block .card-title-block .text-block{padding-left:10px;width:calc(100% - 40px - 90px);display:flex;flex-grow:0;flex-shrink:0;flex-wrap:wrap;font-size:.875rem}.msg-detail-block .card-block .card-title-block .text-block .title-main{display:block;width:100%;color:#414141;font-weight:700;line-height:20px}.msg-detail-block .card-block .card-title-block .text-block .title-sub{display:block;width:100%;color:#414141;font-weight:400}.msg-detail-block .card-block .card-title-block .text-block .time{padding-left:10px;padding-right:16px}.msg-detail-block .card-block .card-title-block .icon-block{width:14px;display:inline-block;vertical-align:middle}.msg-detail-block .card-block .card-title-block .icon-block img{width:14px;display:none}.msg-detail-block .card-block .card-title-block .icon-block .normal-img{display:inline-block}.msg-detail-block .card-block .card-title-block .icon-block .active-img,.msg-detail-block .card-block .card-title-block .icon-block.active .normal-img{display:none}.msg-detail-block .card-block .card-title-block .icon-block.active .active-img{display:inline-block}.msg-detail-block .card-block .card-title-block .icon-block.img-cust .img-cust,.msg-detail-block .card-block .card-title-block .icon-block.img-goal .img-goal,.msg-detail-block .card-block .card-title-block .icon-block.img-progress .img-progress{display:inline}.msg-detail-block .card-block .card-detail-text p{margin:5px 0 0;padding:0;font-size:.875rem;font-weight:400;/*! autoprefixer: off */-webkit-box-orient:vertical;overflow:hidden;display:-webkit-box;-webkit-line-clamp:1}@media screen and (max-width:1023px){.msg-detail-block .card-block .card-title-block .text-block{width:calc(100% - 120px)}.msg-detail-block .card-block .card-detail-text p{-webkit-line-clamp:2}}.msg-detail-block .card-block .card-btn-block{display:block;width:100%;text-align:right;background-color:transparent;padding:0;margin-top:3px}.msg-detail-block .card-block .card-btn-block .card-btn_text{color:#c2c2c2;font-size:.875rem;font-weight:700;display:none}.msg-detail-block .card-block .card-btn-block .card-btn_link,.msg-detail-block .card-block .card-btn-block.active .card-btn_text{display:inline-block}.msg-detail-block .card-block .card-btn-block.active .card-btn_link{display:none}.msg-detail-block .card-block ::ng-deep .ui-link-block .link{font-size:.875rem}.msg-detail-block .card-block ::ng-deep .ui-link-block .img-block img{vertical-align:middle}.msg-detail-block ::ng-deep .card-btn-block .ui-link-block .img-block img{padding:4px}"]}]}],e.ctorParameters=function(){return[]},e.propDecorators={isRead:[{type:c.Input}],isHasBtn:[{type:c.Input}],isHasApproved:[{type:c.Input}],cardType:[{type:c.Input}],linkStatus:[{type:c.Input}]},e}(),f=function(){function e(e,t,n,a,i,o,s,r,l,c,d){this.customerUtils=e,this.dashboardService=t,this.calendarService=n,this.customerService=a,this.changeDetector=i,this.translateService=o,this.profileCodeService=s,this.loginMgr=r,this.dataSyncService=l,this.notificationMgr=c,this.APP_CONFIG=d,this.hello_str="",this.isLoadingFinish=!0,this.isRefreshFinish=!0,this.isLazyLoading=!0,this.isMobilePopupOpen=!1,this.dashboardMessageList=[],this.calendarEventList=[],this.calendarEventMonthList=[],this.birthdayList=[],this.language=new x.Language,this.todate=new Date,this.alertAutoDeleteCustomer=[],this.alertOverTimeList=[],this.isDisplayDeleteRemind=!1,this.isDisplayUpdateRemind=!1,this.showCalendarList=[],this.messagePageInfo=new x.PageInfo,this.isExpandDetail=!1,this.isCalendarDelete=!1,this.isPopupDeleteSuccess=!1,this.isExpandEdit=!1,this.isDisplaySavePopup=!1,this.translateMap=new Map,this.optionMap=new Map,this.isSaveClick=!1,this.activityTypeList=[],this.alertTypeList=[],this.dayTypesList=["Cross_Day","All_Day"],this.weekdaysList=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],this.monthsList=["January","February","March","April","May","June","July","August","September","October","November","December"],this.noSchedule="No_Schedule",this.customerClientMap=new Map,this.customerItemList=[],this.customerClientName="",this.searchBirthdaySubN=this.APP_CONFIG[this.APP_CONFIG.ENV].DASHBOARD.SearchBirthdayRange.subN,this.searchBirthdayAddN=this.APP_CONFIG[this.APP_CONFIG.ENV].DASHBOARD.SearchBirthdayRange.addN,this.searchCalendarSubN=this.APP_CONFIG[this.APP_CONFIG.ENV].DASHBOARD.SearchCalendarRange.subN,this.searchCalendarAddN=this.APP_CONFIG[this.APP_CONFIG.ENV].DASHBOARD.SearchCalendarRange.addN}return e.prototype.ngOnInit=function(){var t=this;this.messagePageInfo.pageSize=5,this.activityTypeList=this.profileCodeService.getCodeArray("Calendar_Type"),this.alertTypeList=this.profileCodeService.getCodeArray("Calendar_RemindTime"),this.optionMap.set("Calendar_Type",this.activityTypeList),this.optionMap.set("Calendar_RemindTime",this.alertTypeList),this.dayTypesList.forEach(function(e){t.translateMap.set(e,t.translateService.translate(e))}),this.weekdaysList.forEach(function(e){t.translateMap.set(e,t.translateService.translate(e))}),this.monthsList.forEach(function(e){t.translateMap.set(e,t.translateService.translate(e))}),this.translateMap.set(this.noSchedule,this.translateService.translate(this.noSchedule)),this.windowWidth=window.innerWidth,this.isMobilePopupOpen=this.windowWidth<1024&&this.dashboardService.isFirstTime(),this.viewDate=this.todate,this.getLoginInfo(),this.getCalendarList(),this.getCustomerBirthdayList(this.todate,this.searchBirthdaySubN,this.searchBirthdayAddN),this.doFilterByKeyword("UnRead",!1),this.createCustomerList()},e.prototype.onResize=function(e){this.windowWidth=e.target.innerWidth,this.changeDetector.markForCheck(),this.windowWidth<1024&&(this.isMobilePopupOpen=!0)},e.prototype.getCalendarList=function(){return p(this,void 0,void 0,function(){var t,n,a,i,o=this;return k(this,function(e){for(t=r.subDays(this.todate,this.searchCalendarSubN),n=[],a=function(){var a=r.addDays(t,i);n.push(new Promise(function(n,e){o.getCalendarBetweenDate(r.startOfDay(a),r.endOfDay(a)).then(function(e){var t={showDate:a,eventList:e,isBeforeToday:r.startOfDay(o.todate).getTime()>r.startOfDay(a).getTime(),isToday:r.startOfDay(o.todate).getTime()==r.startOfDay(a).getTime()};n(t)})}))},i=0;i<this.searchCalendarSubN+this.searchCalendarAddN+1;i++)a();return Promise.all(n).then(function(e){o.showCalendarList=e,console.log("this.showCalendarList: ",o.showCalendarList)}),[2]})})},e.prototype.loadContent=function(e){return p(this,void 0,void 0,function(){var t=this;return k(this,function(e){switch(e.label){case 0:return this.messagePageInfo.nextPage(),[4,this.doFilterByKeyword(this.currentMessageKeyword,!0)];case 1:return e.sent(),setTimeout(function(){t.isLoadingFinish=!0,t.changeDetector.detectChanges()}),[2]}})})},e.prototype.refreshContent=function(e){return p(this,void 0,void 0,function(){var t=this;return k(this,function(e){switch(e.label){case 0:return this.messagePageInfo.resetPage(),[4,this.notificationMgr.fetchMessageData()];case 1:return e.sent(),[4,Promise.all([this.doFilterByKeyword(this.currentMessageKeyword,!1),this.getCalendarList(),this.getCustomerBirthdayList(this.viewDate,this.searchBirthdaySubN,this.searchBirthdayAddN)])];case 2:return e.sent(),console.log("PromiseAll finish"),setTimeout(function(){t.isRefreshFinish=!0},500),[2]}})})},e.prototype.getLoginInfo=function(){return p(this,void 0,void 0,function(){var n=this;return k(this,function(e){return[2,new Promise(function(t,e){n.loginMgr.getLoginInfo().subscribe(function(e){n.dashboardLoginInfo=e,console.warn("this.dashboardLoginInfo: ",n.dashboardLoginInfo),t()})})]})})},e.prototype.doFilterByKeyword=function(e,t){var n=this;return t||this.messagePageInfo.resetPage(),this.currentMessageKeyword=e,this.dashboardService.getMessageByKeyword(e,this.messagePageInfo).toPromise().then(function(e){t?0<e.length&&(n.dashboardMessageList=g(n.dashboardMessageList,e)):n.dashboardMessageList=g(e)})},e.prototype.onChangeCommitmentStatus=function(t){var n=this;console.log("into onChangeCommitmentStatus event:",t,"messageId:",t.messageId,"keyword:",t.keyword),this.dashboardService.changeMessageStatus(t.messageId,"LinkStatus","Done").toPromise().then(function(e){console.log("onChangeCommitmentStatus resp",e),n.doFilterByKeyword(t.keyword,!1)})},e.prototype.afterDisplayDeleteRemind=function(){return p(this,void 0,void 0,function(){return k(this,function(e){switch(e.label){case 0:return[4,this.doFilterByKeyword(this.currentMessageKeyword,!1)];case 1:return e.sent(),this.isDisplayDeleteRemind=!1,[2]}})})},e.prototype.afterDisplayUpdateRemind=function(){return p(this,void 0,void 0,function(){return k(this,function(e){switch(e.label){case 0:return[4,this.doFilterByKeyword(this.currentMessageKeyword,!1)];case 1:return e.sent(),this.isDisplayUpdateRemind=!1,[2]}})})},e.prototype.getCustomerAutoDelete=function(e){return this.customerService.getAutoDeleteCustomerList(e)},e.prototype.getCustomerOverTime=function(e){return this.customerService.getOverTimeCustomerList(e)},e.prototype.getCustomerBirthdayList=function(n,a,i){return p(this,void 0,void 0,function(){var t=this;return k(this,function(e){return[2,this.customerService.getCustomerBirthdayList(n,a,i).toPromise().then(function(e){t.birthdayList=e})]})})},e.prototype.getCalendarBetweenDate=function(t,n){return p(this,void 0,void 0,function(){return k(this,function(e){return[2,this.calendarService.getCalendarEventList(t,n,"").toPromise()]})})},e.prototype.clickListShow=function(){this.isMobilePopupOpen=!0},e.prototype.onClickMessage=function(e){var t=this;console.log("click message: ",e);var n=e.clientID;"UnRead"==e.status&&this.dashboardService.updateMessageStatus(e.clientID,"Reading").subscribe(function(e){}),"AutoDelete"==e.messageType?this.getCustomerAutoDelete(n).subscribe(function(e){t.alertAutoDeleteCustomer=e,t.isDisplayDeleteRemind=0<e.length}):"Overtime"==e.messageType&&this.getCustomerOverTime(n).subscribe(function(e){t.alertOverTimeList=e,t.isDisplayUpdateRemind=0<e.length}),this.changeDetector.detectChanges()},e.prototype.onClickCalendarItem=function(t){console.log("click event: ",t),this.calendarItemClientID=t.eventList.clientID,this.viewDate=new Date(t.showDate),this.calendarEventList=this.showCalendarList.filter(function(e){return e.showDate==t.showDate})[0].eventList,console.log("viewDate: ",this.viewDate),this.loadCalendarEventDetail(this.calendarItemClientID)},e.prototype.loadCalendarEventDetail=function(e){var t=this;this.calendarService.getCalendarEventDetail(e).subscribe(function(e){console.log("getCalendarEventDetail",e),t.calendarEventDetail=e,t.customerClientName=t.customerClientMap.get(t.calendarEventDetail.customerClientID),t.calendarEventDetail.displayActivity=t.profileCodeService.convertCode2Text("Calendar_Type",t.calendarEventDetail.activity),t.calendarEventDetail.displayAlert1=t.profileCodeService.convertCode2Text("Calendar_RemindTime",t.calendarEventDetail.alert1),t.calendarEventDetail.displayAlert2=t.profileCodeService.convertCode2Text("Calendar_RemindTime",t.calendarEventDetail.alert2),t.isExpandDetail=!0,t.changeDetector.detectChanges()})},e.prototype.editEvent=function(){this.isExpandEdit=!0},e.prototype["delete"]=function(){this.isCalendarDelete=!0},e.prototype.onClickDeleteConfirm=function(){var t=this;this.calendarService.deleteCalendarEvent(this.calendarItemClientID).subscribe(function(e){e.status&&(t.isExpandDetail=!1,t.isPopupDeleteSuccess=!0,t.showCalendarList.forEach(function(e){e.eventList=e.eventList.filter(function(e){return e.clientID!=t.calendarItemClientID})}),t.showCalendarList=g(t.showCalendarList))})},e.prototype.onSaveCalendarEvent=function(e){var t=e.type,n=e.data;"fail"!==t&&(this.loadCalendarEventDetail(n.ClientID),this.getCalendarList(),this.isDisplaySavePopup=!0,this.isExpandEdit=!1),this.isSaveClick=!1},e.prototype.onClickAppointmentSave=function(){this.isSaveClick=!0},e.prototype.createCustomerList=function(){var c=this,e=new x.PageInfo;e.pageSize=-1;var t=new n.CustomerFilterCriteria;this.customerService.getCustomerList(t,e).subscribe(function(e){var t,n;console.log("data",e);var a=[];try{for(var i=function r(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}(e),o=i.next();!o.done;o=i.next()){var s=o.value;c.customerClientMap.set(s.clientID,c.customerUtils.convertNameToShow(s.firstName,s.lastName)),a.push(new x.SelectOption(s.clientID,c.customerUtils.convertNameToShow(s.firstName,s.lastName)))}}catch(l){t={error:l}}finally{try{o&&!o.done&&(n=i["return"])&&n.call(i)}finally{if(t)throw t.error}}c.customerItemList=a})},e.decorators=[{type:c.Component,args:[{selector:"app-dashboard",template:'<ng-container>\n    <ng-template #homeExtention>\n        <ng-content></ng-content>\n    </ng-template>\n    \n    <ng-template *ngIf="this.windowWidth < 1024; then mobileBlock else pcBlock"></ng-template>\n    \x3c!-- home side --\x3e\n    <ng-template #homeSide>\n        <app-dashboard-list [eventMonthList]="calendarEventMonthList" [calendarEventList]="showCalendarList" [birthdayItemList]="birthdayList" (clickCalendarItem)="onClickCalendarItem($event)"></app-dashboard-list>\n    </ng-template>\n    \x3c!-- end of home side --\x3e\n    \n    \x3c!-- home main --\x3e\n    <ng-template #homeMain>\n        <ng-container *ngTemplateOutlet="homeExtention"></ng-container>\n        <app-dashboard-detail [loginInfo]="dashboardLoginInfo" [messageList]="dashboardMessageList" (filterByKeyword)="doFilterByKeyword($event, false)" (clickMessage)="onClickMessage($event)" (onClickLink)="clickListShow()" (changeCommitmentStatus)="onChangeCommitmentStatus($event)"></app-dashboard-detail>\n    </ng-template>\n    \x3c!-- end of home main --\x3e\n    \n    \n    \x3c!-- if: pcBlock --\x3e\n    <ng-template #pcBlock>\n        <app-ui-main-side-menu class="dashboard-main-side-menu">\n            <div class="home-list-side-menu" side-menu>\n                <ng-container *ngTemplateOutlet="homeSide"></ng-container>\n            </div>\n            <div main>\n                <app-ui-infinite-scroll [syncFunction]="[\'DASHBOARD\']" (loadingCallback)="loadContent($event)"  (refreshCallback)="refreshContent($event)" [(loadingFinish)]="isLoadingFinish" [(refreshFinish)]="isRefreshFinish" [lazyLoading]="isLazyLoading" [translateText]="language.loading | translate">\n                    <ng-container *ngTemplateOutlet="homeMain"></ng-container>\n                </app-ui-infinite-scroll>\n            </div>\n        </app-ui-main-side-menu>\n        \n    \n        \x3c!-- remind delete --\x3e\n        <app-ui-modal-style-img-base [isContnetFull]="true"  [isPopupOpen]="isDisplayDeleteRemind" (close)="afterDisplayDeleteRemind()">\n            <ng-container textType="modal-img-detail">\n                <img src="assets/img/icon-cust-remind.svg">\n            </ng-container>\n            <ng-container textType="modal-title-detail">{{language.deleteProtectionTitle |translate }}</ng-container>\n            <ng-container textType="modal-content-detail">\n                \x3c!-- list --\x3e\n                <app-ui-list-data2>\n                \x3c!-- data --\x3e\n                <ng-container textType="data">\n                    <app-ui-form-checkbox3 [isDisable]="true" [nxValue]="false" *ngFor="let alertItem of alertAutoDeleteCustomer;">\n                        <ng-container checkboxText="style3">{{alertItem.name}}</ng-container>\n                    </app-ui-form-checkbox3>\n                </ng-container>\n                \x3c!-- end of data --\x3e\n                </app-ui-list-data2>\n                \x3c!-- end of list --\x3e\n            </ng-container>\n            \x3c!-- end modal-content-detail --\x3e\n            <ng-container textType="modal-btm-detail">\n                <div class="btm-set-block">\n                <span class="ps-text">\n                    {{alertAutoDeleteCustomer.length}}  {{language.people |translate }}\n                </span>\n                \x3c!-- btn --\x3e\n                <app-ui-btn-layout>\n                    <app-ui-btn [btnColor]="\'main2\'" [btnStyle]="\'full\'" [btnHeight]="\'sm\'" [btnWd]="\'md\'" [id]="\'btn_dashboardUpdateDelete\'" Action action="dashboardUpdateDelete" (actionClick)="afterDisplayDeleteRemind()">\n                    <ng-container TextType="cust">{{language.homeConfirm |translate }}</ng-container>\n                    </app-ui-btn>\n                </app-ui-btn-layout>\n                \x3c!-- end of btn --\x3e\n                </div>\n        \n            </ng-container>\n            \x3c!-- end modal-btm-detail --\x3e\n        </app-ui-modal-style-img-base>\n        \x3c!-- end of remind delete --\x3e\n    \n        \x3c!-- remind update --\x3e\n        <app-ui-modal-style-img-base [isContnetFull]="true"  [isPopupOpen]="isDisplayUpdateRemind" (close)="afterDisplayUpdateRemind()">\n                <ng-container textType="modal-img-detail">\n                    <img src="assets/img/icon-cust-remind.svg">\n                </ng-container>\n                <ng-container textType="modal-title-detail">{{language.updateProtectionTitle |translate }}</ng-container>\n                <ng-container textType="modal-content-detail">\n                    \x3c!-- list --\x3e\n                    <app-ui-list-data2>\n                    \x3c!-- data --\x3e\n                    <ng-container textType="data">\n                        <app-ui-form-checkbox3 [isDisable]="true" [nxValue]="false" *ngFor="let alertItem of alertOverTimeList;">\n                        <ng-container checkboxText="style3">{{alertItem.name}}</ng-container>\n                        </app-ui-form-checkbox3>\n                    </ng-container>\n                    \x3c!-- end of data --\x3e\n                    </app-ui-list-data2>\n                    \x3c!-- end of list --\x3e\n                </ng-container>\n                \x3c!-- end modal-content-detail --\x3e\n                <ng-container textType="modal-btm-detail">\n                    <div class="btm-set-block">\n                    <span class="ps-text">\n                        {{alertOverTimeList.length}} {{language.people |translate }}\n                    </span>\n                    \x3c!-- btn --\x3e\n                    <app-ui-btn-layout>\n                        <app-ui-btn [btnColor]="\'main2\'" [btnStyle]="\'full\'" [btnHeight]="\'sm\'" [btnWd]="\'md\'" [id]="\'btn_dashboardUpdateConfirm\'" Action action="dashboardUpdateConfirm" (actionClick)="afterDisplayUpdateRemind()">\n                        <ng-container TextType="cust">{{language.homeConfirm |translate }}</ng-container>\n                        </app-ui-btn>\n                    </app-ui-btn-layout>\n                    \x3c!-- end of btn --\x3e\n                    </div>\n        \n                </ng-container>\n                \x3c!-- end modal-btm-detail --\x3e\n        </app-ui-modal-style-img-base>\n        \x3c!-- end of remind update --\x3e\n        \n    </ng-template>\n    \x3c!-- end of pcBlock --\x3e\n    \n    \x3c!-- if: mobile --\x3e\n    <ng-template #mobileBlock>\n        <app-ui-modal-style-cust [isHeightFix]="true"  [(isPopupOpen)]="isMobilePopupOpen" *ngIf="isMobilePopupOpen">\n            <div class="fix-close-block">\n                <div class="close-button" (click)="isMobilePopupOpen = false">\n                    <img src="assets/img/icon-close-lg.svg">\n                </div>\n            </div>\n            <ng-container *ngTemplateOutlet="homeSide"></ng-container>  \n        </app-ui-modal-style-cust>\n        \n        <app-ui-infinite-scroll [syncFunction]="[\'DASHBOARD\']" class="dashboard-mobile-detail-block" (loadingCallback)="loadContent($event)"  (refreshCallback)="refreshContent($event)" [(loadingFinish)]="isLoadingFinish" [(refreshFinish)]="isRefreshFinish" [lazyLoading]="isLazyLoading" [translateText]="language.loading | translate">\n            <ng-container *ngTemplateOutlet="homeMain"></ng-container>\n        </app-ui-infinite-scroll>\n    \n    \n        \x3c!-- remind delete --\x3e\n        <app-ui-modal-style-img-base [isContnetFull]="true"  [isPopupOpen]="isDisplayDeleteRemind" (close)="afterDisplayDeleteRemind()">\n            <ng-container textType="modal-img-detail">\n                <img src="assets/img/icon-cust-remind.svg">\n            </ng-container>\n            <ng-container textType="modal-title-detail">{{language.deleteProtectionTitle |translate }}</ng-container>\n            <ng-container textType="modal-content-detail">\n                \x3c!-- list --\x3e\n                <app-ui-list-data2>\n                \x3c!-- data --\x3e\n                <ng-container textType="data">\n                    <app-ui-form-checkbox3 [isDisable]="true" [nxValue]="false" *ngFor="let alertItem of alertAutoDeleteCustomer;">\n                        <ng-container checkboxText="style3">{{alertItem.name}}</ng-container>\n                        </app-ui-form-checkbox3>\n        \n                </ng-container>\n                \x3c!-- end of data --\x3e\n                </app-ui-list-data2>\n                \x3c!-- end of list --\x3e\n            </ng-container>\n            \x3c!-- end modal-content-detail --\x3e\n            <ng-container textType="modal-btm-detail">\n                <div class="btm-set-block">\n                <span class="ps-text">\n                    {{alertAutoDeleteCustomer.length}}  {{language.people |translate }}\n                </span>\n                \x3c!-- btn --\x3e\n                <app-ui-btn-layout>\n                    <app-ui-btn [btnColor]="\'main2\'" [btnStyle]="\'full\'" [btnHeight]="\'sm\'" [btnWd]="\'md\'" [id]="\'btn_dashboardDeleteConfirm\'" Action action="dashboardDeleteConfirm" (actionClick)="afterDisplayDeleteRemind()">\n                    <ng-container TextType="cust">{{language.homeConfirm |translate }}</ng-container>\n                    </app-ui-btn>\n                </app-ui-btn-layout>\n                \x3c!-- end of btn --\x3e\n                </div>\n        \n            </ng-container>\n            \x3c!-- end modal-btm-detail --\x3e\n        </app-ui-modal-style-img-base>\n        \x3c!-- end of remind delete --\x3e\n    \n        \x3c!-- remind update --\x3e\n        <app-ui-modal-style-img-base [isContnetFull]="true"  [isPopupOpen]="isDisplayUpdateRemind" (close)="afterDisplayUpdateRemind()">\n                <ng-container textType="modal-img-detail">\n                    <img src="assets/img/icon-cust-remind.svg">\n                </ng-container>\n                <ng-container textType="modal-title-detail">{{language.updateProtectionTitle |translate }}</ng-container>\n                <ng-container textType="modal-content-detail">\n                    \x3c!-- list --\x3e\n                    <app-ui-list-data2>\n                    \x3c!-- data --\x3e\n                    <ng-container textType="data">\n                        <app-ui-form-checkbox3 [isDisable]="true" [nxValue]="false" *ngFor="let alertItem of alertOverTimeList;">\n                        <ng-container checkboxText="style3">{{alertItem.name}}</ng-container>\n                        </app-ui-form-checkbox3>\n                    </ng-container>\n                    \x3c!-- end of data --\x3e\n                    </app-ui-list-data2>\n                    \x3c!-- end of list --\x3e\n                </ng-container>\n                \x3c!-- end modal-content-detail --\x3e\n                <ng-container textType="modal-btm-detail">\n                    <div class="btm-set-block">\n                    <span class="ps-text">\n                        {{alertOverTimeList.length}} {{language.people |translate }}\n                    </span>\n                    \x3c!-- btn --\x3e\n                    <app-ui-btn-layout>\n                        <app-ui-btn [btnColor]="\'main2\'" [btnStyle]="\'full\'" [btnHeight]="\'sm\'" [btnWd]="\'md\'" [id]="\'btn_dashboardUpdateConfirm\'" Action action="dashboardUpdateConfirm" (actionClick)="afterDisplayUpdateRemind()">\n                        <ng-container TextType="cust">{{language.confirm |translate }}</ng-container>\n                        </app-ui-btn>\n                    </app-ui-btn-layout>\n                    \x3c!-- end of btn --\x3e\n                    </div>\n        \n                </ng-container>\n                \x3c!-- end modal-btm-detail --\x3e\n        </app-ui-modal-style-img-base>\n        \x3c!-- end of remind update --\x3e\n    \n    </ng-template>\n    \x3c!-- end of mobile --\x3e\n    \n    \x3c!-- --- modal --- --\x3e\n    \x3c!--delete block --\x3e\n    <app-ui-modal-confirm #calendarDelete [(isPopupOpen)]="isCalendarDelete" (onConfirm)="onClickDeleteConfirm()" [title]="language.delete | translate"\n        [message]="language.deleteDataBody | translate" [cancelBtnText]="language.no | translate" [confirmBtnText]="language.yes | translate">\n    </app-ui-modal-confirm>\n    \x3c!-- end: Appointment delete --\x3e\n    \n    \x3c!-- Delete Success --\x3e\n    <app-ui-modal-style-feedback [(isPopupOpen)]="isPopupDeleteSuccess">\n        <ng-container textType="modal-img-detail">\n            <nx-icon name=\'check\' size=\'auto\'></nx-icon>\n        </ng-container>\n        <ng-container textType="modal-content-detail">{{language.notificationDeleteFeedback | translate}}</ng-container>\n    </app-ui-modal-style-feedback>\n    \x3c!-- end of Delete Success --\x3e\n    \n    \x3c!-- detail block --\x3e\n    <app-ui-modal-style-text1 class="wd-md" [(isPopupOpen)]="isExpandDetail">\n        <ng-container textType="modal-title-detail">{{language.homeAppointmentDetails | translate}}</ng-container>\n        <ng-container textType="modal-content-detail">\n            <snd-calendar-detail [calendarEventDetail]="calendarEventDetail" [customerClientName]="customerClientName"></snd-calendar-detail>\n        </ng-container>\n    \x3c!-- end: popup-content --\x3e\n        <ng-container textType="modal-btm-detail">\n            <app-ui-btn-layout>\n                <app-ui-btn [btnHeight]="\'sm\'" [btnStyle]="\'border\'" [id]="\'btn_dashboardAppointmentDelete\'" Action action=\'dashboardAppointmentDelete\' (actionClick)="delete()">\n                    <ng-container TextType="cust">{{language.homeDelete | translate}}</ng-container>\n                </app-ui-btn>\n                <app-ui-btn [btnHeight]="\'sm\'" [id]="\'btn_dashboardAppointmentEdit\'" Action action=\'dashboardAppointmentEdit\' (actionClick)="editEvent()">\n                \x3c!-- <ng-container TextType="cust"><span [routerLink]="[\'editEvent\']">EDIT</span></ng-container> --\x3e\n                <ng-container TextType="cust">{{language.homeEdit | translate}}</ng-container>\n                </app-ui-btn>\n            </app-ui-btn-layout>\n        </ng-container>\n    \x3c!-- end: modal-btm-detail --\x3e\n    </app-ui-modal-style-text1>\n    \x3c!-- end: Appointment Detail --\x3e\n    \n    \x3c!--add/edit calendar popup--\x3e\n    <app-ui-modal-style-text1 class="wd-lg calendar-edit-content"\n                            [(isPopupOpen)]="isExpandEdit"\n                            [isScrollToTop]="true"\n                            [isBackdropClose]="true">\n        <ng-container textType="modal-title-detail">{{language.homeAppointment | translate}}</ng-container>\n        <ng-container textType="modal-content-detail">\n            <snd-calendar-edit [clientID]="calendarEventDetail?calendarEventDetail.clientID :\'\' "\n                            [todayCalendarEvent]="calendarEventList"\n                            [isSaveClick]="isSaveClick"\n                            [viewDate]="viewDate"\n                            [translateMap]="translateMap"\n                            (saveEvent)="onSaveCalendarEvent($event)"\n                            [customerItemList]="customerItemList"></snd-calendar-edit>\n    \n        </ng-container>\n    \x3c!-- end popup-content --\x3e\n        <ng-container textType="modal-btm-detail">\n            <app-ui-btn-layout>\n                <app-ui-btn [btnWd]="\'md\'" [btnHeight]="\'sm\'" [id]="\'btn_dashboardAppointmentSave\'" Action action=\'dashboardAppointmentSave\' (actionClick)="onClickAppointmentSave()">\n                    <ng-container TextType="cust">{{language.homeSave | translate}}</ng-container>\n                </app-ui-btn>\n            </app-ui-btn-layout>\n        </ng-container>\n    \x3c!-- end modal-btm-detail --\x3e\n    </app-ui-modal-style-text1>\n    \x3c!-- end: add/edit calendar popup --\x3e\n    \n    \x3c!--  save feedback --\x3e\n    <app-ui-modal-style-feedback [(isPopupOpen)]="isDisplaySavePopup">\n        <ng-container textType="modal-img-detail">\n            <nx-icon name=\'check\' size=\'auto\'></nx-icon>\n        </ng-container>\n        <ng-container textType="modal-content-detail">{{language.notificationSaveFeedback |translate }}</ng-container>\n    </app-ui-modal-style-feedback>\n    \x3c!-- end of save feedback --\x3e\n\n    \x3c!-- --- end of modal --- --\x3e\n</ng-container>\n',changeDetection:c.ChangeDetectionStrategy.OnPush,styles:["@keyframes fadein{from{opacity:0}to{opacity:1}}@-webkit-keyframes fadein{from{opacity:0}to{opacity:1}}@media (min-width:screen-nb){.fix-close-block{display:none}}.fix-close-block{position:absolute;width:100%;top:0;left:0;text-align:right;background-color:rgba(73,110,189,.05)}.fix-close-block img{width:44px;height:44px;padding:10px}@media (max-width:1023px){:host{display:block;overflow:hidden}}:host ::ng-deep .layout-content-main .refresh-content{background-color:inherit}:host ::ng-deep .layout-content-main .infiniti-scroll{height:100vh}:host ::ng-deep app-ui-infinite-scroll.dashboard-mobile-detail-block .infiniti-scroll{height:100%;max-height:calc(100vh - 55px - 55px);background-color:#f5f5f5}@supports (top:env(safe-area-inset-top)){:host ::ng-deep app-ui-infinite-scroll.dashboard-mobile-detail-block .infiniti-scroll{max-height:calc(100vh - constant(safe-area-inset-top) - constant(safe-area-inset-bottom) - 55px - 55px)}}@supports (top:constant(safe-area-inset-top)){:host ::ng-deep app-ui-infinite-scroll.dashboard-mobile-detail-block .infiniti-scroll{max-height:calc(100vh - env(safe-area-inset-top) - env(safe-area-inset-bottom) - 55px - 55px)}}:host ::ng-deep app-ui-infinite-scroll.dashboard-mobile-detail-block .scroll-content{overflow:hidden}.home-list-side-menu{display:block;width:100%}"]}]}],e.ctorParameters=function(){return[{type:n.CustomerUtils},{type:m},{type:n.CalendarService},{type:n.CustomerService},{type:c.ChangeDetectorRef},{type:x.TranslateService},{type:x.ProfileCodeService},{type:x.DefaultLoginMgr},{type:x.DataSyncService},{type:x.NotificationMgr},{type:undefined,decorators:[{type:c.Inject,args:[x.ConfigToken]}]}]},e.propDecorators={onResize:[{type:c.HostListener,args:["window:resize",["$event"]]}]},e}(),v=function(){function e(e){this.loginMgr=e,this.GAP_SIZE_20=a.CONTENTGAP.GAP20,this.role=null,this.language=new x.Language,this.tabIndex=0,this.init(),console.debug("check start ......")}return e.prototype.ngOnInit=function(){},e.prototype.init=function(){return p(this,void 0,void 0,function(){var t,n,a;return k(this,function(e){switch(e.label){case 0:return[4,this.loginMgr.getLoginInfo().pipe(l.take(1)).toPromise()];case 1:return t=e.sent(),console.debug("dashboard login info: ",t),n=t.AppUseMode[t.AppUseMode.length-1],console.debug("dashboard identity: ",n),a=this._ConvertIdentityToRolesType(n),console.debug("dashboard agent rolepage: ",a),this._ShowRolePage(a),[2]}})})},e.prototype.tabChangeEvent=function(e){this.tabIndex=e},e.prototype._ShowRolePage=function(e){switch(e){case o.ROLE.AGENT:this.role="AG";break;case o.ROLE.AGENTLEADER:this.role="LEADER";break;case o.ROLE.ZONEHEAD:case o.ROLE.CAO:this.role="CAO"}},e.prototype._ConvertIdentityToRolesType=function(e){switch(e){case"AG":return o.ROLE.AGENT;case"AL":return o.ROLE.AGENTLEADER;case"Manager":return o.ROLE.ZONEHEAD;case"Supervisor":return o.ROLE.CAO}},e.decorators=[{type:c.Component,args:[{selector:"snd-dashboard-performance",template:'<ng-container *ngIf="role===\'LEADER\'">\n  \x3c!-- tab --\x3e\n  <app-ui-content-b-gap [gapSize]="GAP_SIZE_20">\n    <app-ui-tab-style1 tabInfo [action]="\'dashboardPerformanceTab\'" (onTabChildClick)="tabChangeEvent($event)">\n      <app-ui-tab-child>{{language.homePersonal | translate}}</app-ui-tab-child>\n      <app-ui-tab-child>{{language.homeTeam | translate}}</app-ui-tab-child>\n    </app-ui-tab-style1>\n  </app-ui-content-b-gap>\n  \x3c!-- end of tab --\x3e\n\n  \x3c!-- tab content --\x3e\n  <div #tabContent class="tab-content-block">\n    <div class="tab-cotent-detail tab-content_0 " [ngClass]="tabIndex == 0? \' active\' : \'\' ">\n      <snd-dashboard-performance-personal></snd-dashboard-performance-personal>\n    </div>\n    <div class="tab-cotent-detail tab-content_1" [ngClass]="tabIndex == 1? \' active\' : \'\' ">\n      <snd-dashboard-performance-team></snd-dashboard-performance-team>\n    </div>\n  </div>\n  \x3c!-- end of tab content --\x3e\n</ng-container>\n\n<ng-container *ngIf="role===\'AG\'">\n  <snd-dashboard-performance-personal></snd-dashboard-performance-personal>\n</ng-container>\n\n<ng-container *ngIf="role===\'CAO\'">\n  <snd-dashboard-performance-team></snd-dashboard-performance-team>\n</ng-container>\n\n\n',styles:["@keyframes fadein{from{opacity:0}to{opacity:1}}@-webkit-keyframes fadein{from{opacity:0}to{opacity:1}}[class*=tab-content_]{opacity:0;transition:none;position:absolute;z-index:-1;-webkit-transform-origin:top;transform-origin:top}[class*=tab-content_]:not(.active) *{display:none}[class*=tab-content_].active{position:relative;opacity:1;z-index:1;transition:.2s;display:flex;flex-wrap:wrap}.tab-content-block{padding-bottom:20px}"]}]}],e.ctorParameters=function(){return[{type:x.DefaultLoginMgr}]},e}(),C=function(){function e(e,t,n,a,i){this.dashboardService=e,this.loginMgr=t,this.errorHandler=n,this.router=a,this.progressService=i,this.dashboardPerformanceTeam=[],this.data=null,this.isLoadDataFinish=!1,this.language=new x.Language,this.windowWidth=null,this.init()}return e.prototype.ngOnInit=function(){this.windowWidth=window.innerWidth},e.prototype.init=function(){return p(this,void 0,void 0,function(){var t,n,r=this;return k(this,function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),[4,this.loginMgr.getLoginInfo().pipe(l.take(1)).toPromise()];case 1:return e.sent(),this.loginMgr.getLoginInfo().subscribe(function(e){console.log("check permission subscribe:",e),e&&(r.userRole=e.AppUseMode[0]),console.log("get AppUseMode",r.userRole)}),[4,(t=this).dashboardService.getPerformanceData("T",this.userRole).toPromise()];case 2:return t.data=e.sent(),null!=this.data&&(this.isLoadDataFinish=!0,this.timeBaseTitle=this.data.timeBaseTitle,this.ShowMonthlyProgressRateArr=new Array,this.ShowMonthlyProgressRateBarArr=new Array,console.log(" this.timeBaseTitle",this.timeBaseTitle),this.data.datas.forEach(function(e,t){var n=r.getRate(e.MonthlyProgressCurrent,e.MonthlyProgressTotal);e.MonthlyProgressRate=r.convertNumberDigital(n,2);var a=r.getPercentage(e.MonthlyProgressRate),i=r.convertToNumber(e.MonthlyProgressCurrent),o=r.convertToNumber(e.MonthlyProgressTotal),s=r.getMonthlyBarLength(i,o,1.5,150);r.ShowMonthlyProgressRateArr.push(a),r.ShowMonthlyProgressRateBarArr.push(s)})),[3,4];case 3:return n=e.sent(),this.errorHandler.handleError(new x.APPError("F00600","DashboardPerformanceTeam init fail!"+n.message)),[3,4];case 4:return[2]}})})},e.prototype.getRate=function(e,t){return-1!=e&&x.NumberUtils.isNumber(e)&&-1!=t&&x.NumberUtils.isNumber(t)?e/t:-1},e.prototype.getPercentage=function(e){return-1!=e&&x.NumberUtils.isNumber(e)?(100*e).toString():"--"},e.prototype.getPercentageBar=function(e){return-1!=e&&x.NumberUtils.isNumber(e)?e.toString():"0"},e.prototype.convertToNumber=function(e){var t=Number(e);return t==NaN?0:t<=-1?0:0==t?0:t},e.prototype.getMonthlyBarLength=function(e,t,n,a){if(0==e||0==t)return"0";var i=Math.round(e/t*100)/a;return n<=i?n.toString():i.toString()},e.prototype.convertNumberDigital=function(e,t){return 0===t?Math.round(e):0<t?Math.round(e*Math.pow(10,t))/Math.pow(10,t):e},e.prototype.convertNumberThousand=function(e){if(e<=-1||!x.NumberUtils.isNumber(e))return"--";for(var t=e.toString(),n=/(-?\d+)(\d{3})/;n.test(t);)t=t.replace(n,"$1,$2");return t},e.prototype.goToProgress=function(){var e=i.Tag.TeamTag;this.progressService.SetCurrentNavigationTag(e),this.router.navigate("Progress")},e.decorators=[{type:c.Component,args:[{selector:"snd-dashboard-performance-team",template:'<div class="dashboard-performance-team">\n  <app-ui-card-content-btn [noPadding]="true" class="msg-card-block msg-progress-block">\n    <ng-container infoContent>\n      <div class="card-block">\n        <div class="card_title" *ngIf="timeBaseTitle==\'monthly\'">{{language.monthlyProgress | translate}}</div>\n        <div class="card_title" *ngIf="timeBaseTitle==\'yearly\'">{{language.yearlyProgress | translate}}</div>\n\n        \x3c!-- progress bar --\x3e\n        <ng-container *ngIf="isLoadDataFinish">\n        <div class="progressbar-main-block" *ngFor="let team of data.datas; let i = index" >\n          \x3c!-- top num --\x3e\n          <div class="num-block">\n            <div class="num-title">{{team.title | translate}}</div>\n            <div class="font-size_h2 num-value">{{ShowMonthlyProgressRateArr[i] | numberFormat:0 }}\n            <span class="num-unit">%</span></div>\n            \x3c!-- <div class="font-size_h2 num-value">{{team.MonthlyProgressRate*100}}</div> --\x3e\n          </div>\n          \x3c!-- end of top num --\x3e\n          \x3c!-- progress group --\x3e \n          <div class="pregress-group-block">\n            \x3c!-- progress --\x3e\n            <div class="progressbar-block"> \x3c!-- team.MonthlyProgressRate --\x3e\n              <app-ui-progress [isTextTop]="false" [styleSize]="\'lg\'" [value]="ShowMonthlyProgressRateBarArr[i]" [flagValue]="0.6667"\n                [flagText]="\'100%\'"></app-ui-progress>\n            </div>\n            \x3c!-- end of progreww --\x3e\n            \x3c!-- btm value --\x3e\n            <div class="value-block">\n              <div class="value-detail-block">\n                <div class="side-value left-value">\n                  \x3c!-- <span class="value-unit">$</span> --\x3e\n                  <span class="value-num">{{ team.MonthlyProgressCurrent | numberFormat }}</span>\n                </div>\n                <div class="mid-value">/</div>\n                <div class="side-value right-value">\n                  \x3c!-- <span class="value-unit">$</span> --\x3e\n                  <span class="value-num">{{ team.MonthlyProgressTotal | numberFormat }}</span>\n                </div>\n              </div>\n            </div>\n            \x3c!-- end of btm value --\x3e\n          </div>\n          \x3c!-- end of progress group --\x3e\n        </div>\n        </ng-container>\n        \x3c!-- end of progress bar --\x3e\n        \x3c!-- <app-ui-btn-layout>\n          <app-ui-btn [btnHeight]="\'sm\'" [btnHeight]="\'md\'">\n            <ng-container TextType="cust">{{language.detail | translate}}</ng-container>\n          </app-ui-btn>\n        </app-ui-btn-layout> --\x3e\n        <div class="link-wrapper">\n          <app-ui-link Action action="DashboardPerformanceGoToProgress" (actionClick)="goToProgress()">\n            <ng-container textType="linktext">{{language.homeDetails | translate}}</ng-container>\n          </app-ui-link>\n        </div>\n\n      </div>\n    </ng-container>\n  </app-ui-card-content-btn>\n</div>\n',styles:[":host{width:100%}.msg-progress-block{width:100%}.msg-progress-block .card-block{padding:20px}.msg-progress-block .card_title{font-size:1rem;font-weight:700;color:#414141;padding-bottom:20px}.msg-progress-block ::ng-deep .card-content-btn{width:100%}.msg-progress-block ::ng-deep .btn-block{margin-top:30px;margin-bottom:10px}.msg-progress-block .link-wrapper{margin-top:25px;text-align:center}.msg-progress-block.card-pos-center .card-block{text-align:center}@keyframes fadein{from{opacity:0}to{opacity:1}}@-webkit-keyframes fadein{from{opacity:0}to{opacity:1}}:host ::ng-deep .chart-block{color:#007ab3;text-align:center;padding:0 13px}:host ::ng-deep .chart-block .progress-total-value{font-weight:700;display:block;margin-bottom:8px;color:#003781}:host ::ng-deep .chart-block .progress-total-unit{font-size:.875rem;font-weight:700;color:#767676}.progressbar-main-block{display:flex;align-items:flex-end}.progressbar-main-block+.progressbar-main-block{margin-top:15px}.progressbar-main-block .num-block{color:#007ab3;display:flex;align-items:baseline;padding-bottom:10px;flex-wrap:wrap;width:120px;flex-grow:0}.progressbar-main-block .num-block .num-title{font-size:1.25rem;line-height:28px;font-weight:700;width:100%;display:block}.progressbar-main-block .num-block .num-unit{font-size:1.25rem;line-height:28px;font-weight:700}.progressbar-main-block .num-block .num-value{display:inline-block;padding:0 5px 0 0;text-align:center;font-weight:700}.progressbar-main-block .pregress-group-block{width:calc(100% - 120px);flex-grow:0;flex-shrink:0;display:inline-block;justify-content:flex-end}.progressbar-main-block .value-block{text-align:right;padding-top:10px}.progressbar-main-block .value-block .value-detail-block{display:flex;line-height:28px;justify-content:flex-end}.progressbar-main-block .value-block .value-detail-block .side-value{font-size:1.25rem;font-weight:700}.progressbar-main-block .value-block .value-detail-block .side-value.left-value{color:#007ab3}.progressbar-main-block .value-block .value-detail-block .mid-value{font-size:1.25rem;font-weight:700;margin:0 5px}@media (max-width:1023px){.progressbar-main-block{display:block}.progressbar-main-block .num-block{width:100%;align-items:center}.progressbar-main-block .num-block .num-title{max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content}.progressbar-main-block .num-block .num-value{margin-left:10px}.progressbar-main-block .pregress-group-block{width:100%}}"]}]}],e.ctorParameters=function(){return[{type:m},{type:x.DefaultLoginMgr},{type:c.ErrorHandler},{type:x.AppRouter},{type:i.ProgressService}]},e}(),D=function(){function e(e,t,n,a){this.dashboardService=e,this.errorHandler=t,this.router=n,this.progressService=a,this.data=null,this.language=new x.Language,this.windowWidth=null,this.ShowCurrentActivityPoints="--",this.ShowCurrentActivityPointsBar="0",this.ShowCurrentMonthlyProgressRate="--",this.ShowCurrentMonthlyProgressBar="0",this.ShowCurrentMonthlyProgress="--",this.ShowCurrentMonthlyTotal="--",this.init()}return e.prototype.windowSize=function(){return 1023<window.innerWidth},e.prototype.ngOnInit=function(){this.windowWidth=window.innerWidth,this.windowSize()},e.prototype.onResize=function(e){this.windowSize()},e.prototype.init=function(){return p(this,void 0,void 0,function(){var t,n,a,i,o,s;return k(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,(t=this).dashboardService.getPerformanceData("P").toPromise()];case 1:return t.data=e.sent(),console.debug("test i got this shit: ",this.data),n=this.convertToNumber(this.data.ActivitiesPoints),a=this.convertToNumber(this.data.ActivitiesPointsTotal),i=this.convertToNumber(this.data.MonthlyProgressCurrent),o=this.convertToNumber(this.data.MonthlyProgressTotal),this.ShowCurrentActivityPoints=this.data.ActivitiesPoints<=-1?"--":this.data.ActivitiesPoints,this.ShowCurrentActivityPointsBar=this.getActivityCircleBar(n,a,1),console.debug("ans111: ",this.ShowCurrentActivityPointsBar),this.ShowCurrentMonthlyProgress=this.data.MonthlyProgressCurrent<=-1?"--":this.data.MonthlyProgressCurrent,this.ShowCurrentMonthlyTotal=this.data.MonthlyProgressTotal<=-1?"--":this.data.MonthlyProgressTotal,this.ShowCurrentMonthlyProgressRate=this.getMonthlyPercentage(i,o),console.debug("ans222: ",this.ShowCurrentMonthlyProgressRate),this.ShowCurrentMonthlyProgressBar=this.getMonthlyBarLength(i,o,1.5,150),console.debug("ans333: ",this.ShowCurrentMonthlyProgressBar),[3,3];case 2:return s=e.sent(),this.errorHandler.handleError(new x.APPError("F00601","DashboardPerformancePersonal init fail!"+s.message)),[3,3];case 3:return[2]}})})},e.prototype.convertToNumber=function(e){var t=Number(e);return t==NaN?0:t<=-1?0:0==t?0:t},e.prototype.getActivityCircleBar=function(e,t,n){if(0==e||0==t)return"0";var a=e/t;return n<=a?n.toString():a.toString()},e.prototype.getMonthlyPercentage=function(e,t){if(0==e||0==t)return"0";var n=e/t*100;return Math.round(n).toString()},e.prototype.getMonthlyBarLength=function(e,t,n,a){if(0==e||0==t)return"0";var i=Math.round(e/t*100)/a;return n<=i?n.toString():i.toString()},e.prototype.getRate=function(e,t){return e<=0||!x.NumberUtils.isNumber(e)?0:t<=0||!x.NumberUtils.isNumber(t)?0:e/t},e.prototype.convertNumberDigital=function(e,t){return 0===t?Math.round(e):0<t?Math.round(e*Math.pow(10,t))/Math.pow(10,t):e},e.prototype.convertNumberThousand=function(e){if(e<=-1||!x.NumberUtils.isNumber(e))return"--";for(var t=e.toString(),n=/(-?\d+)(\d{3})/;n.test(t);)t=t.replace(n,"$1,$2");return t},e.prototype.goToProgress=function(){var e=i.Tag.PersonalTag;this.progressService.SetCurrentNavigationTag(e),this.router.navigate("Progress")},e.decorators=[{type:c.Component,args:[{selector:"snd-dashboard-performance-personal",template:'<div class="dashboard-performance-personsal">\n  <app-ui-card-content-btn [noPadding]="true" class="msg-card-block msg-progress-block card-pos-center msg-wd-sm">\n    <ng-container infoContent>\n      <div class="card-block">\n        <div class="card_title">{{language.activitiesPoints | translate}}</div>\n        \x3c!-- chart --\x3e\n        <app-ui-progress-circle class="chart-block" [value]="ShowCurrentActivityPointsBar" [sizeR]="windowSize()? 51.5:65"\n                                [sizeStroke]="5" *ngIf= "data">\n          <div class="chart-content">\n            <div class="progress-total-value font-size_h4">{{ ShowCurrentActivityPoints | numberFormat }}</div>\x3c!-- {{data.ActivitiesPoints}} --\x3e\n            <div class="progress-total-unit">{{language.homeToday | translate}}</div>\n          </div>\n        </app-ui-progress-circle>\n        \x3c!-- end of chart --\x3e\n        <div class="link-wrapper">\n          <app-ui-link Action action="DashboardPerformanceGoToProgress" (actionClick)="goToProgress()">\n            <ng-container textType="linktext">{{language.homeDetails | translate}}</ng-container>\n          </app-ui-link>\n        </div>\n      </div>\n    </ng-container>\n  </app-ui-card-content-btn>\n\n  <app-ui-card-content-btn [noPadding]="true" class="msg-card-block msg-progress-block msg-wd-md">\n    <ng-container infoContent>\n      <div class="card-block" *ngIf="data">\n        <div class="card_title">{{language.monthlyProgress | translate}}</div>\n\n        \x3c!-- progress bar --\x3e\n        <div class="progressbar-main-block">\n          \x3c!-- top num --\x3e\n          <div class="num-block">\n            <div class="num-title">{{language.homeFYFC | translate}}</div>\n            <div class="num-value font-size_h2">{{ ShowCurrentMonthlyProgressRate | numberFormat:0 }}\n            <span class="num-unit">%</span></div>\n            \x3c!-- <div class="num-value font-size_h2">{{data.MonthlyProgressRate*100}}</div> --\x3e\n          </div>\n          \x3c!-- end of top num --\x3e\n          \x3c!-- progress group --\x3e\n          <div class="pregress-group-block">\n            \x3c!-- progress --\x3e\n            <div class="progressbar-block">\x3c!-- ShowCurrentMonthlyProgressBar --\x3e\n              <app-ui-progress [isTextTop]="false" [styleSize]="\'lg\'" [value]="ShowCurrentMonthlyProgressBar"\n                [flagValue]="0.6667" [flagText]="\'100%\'">\n              </app-ui-progress>\n            </div>\n            \x3c!-- end of progreww --\x3e\n            \x3c!-- btm value --\x3e\n            <div class="value-block">\n              <div class="value-detail-block">\n                <div class="side-value left-value">\n                  \x3c!-- <span class="value-unit">$</span> --\x3e\n                  <span class="value-num">{{ ShowCurrentMonthlyProgress | numberFormat }}</span>\n                </div>\n                <div class="mid-value">/</div>\n                <div class="side-value right-value">\n                  \x3c!-- <span class="value-unit">$</span> --\x3e\n                  <span class="value-num">{{ ShowCurrentMonthlyTotal | numberFormat }}</span>\n                </div>\n              </div>\n            </div>\n            \x3c!-- end of btm value --\x3e\n          </div>\n          \x3c!-- end of progress group --\x3e\n        </div>\n        \x3c!-- end of progress bar --\x3e\n      </div>\n    </ng-container>\n  </app-ui-card-content-btn>\n</div>',styles:[":host{width:100%}.msg-progress-block{width:100%}.msg-progress-block .card-block{padding:20px}.msg-progress-block .card_title{font-size:1rem;font-weight:700;color:#414141;padding-bottom:20px}.msg-progress-block ::ng-deep .card-content-btn{width:100%}.msg-progress-block ::ng-deep .btn-block{margin-top:30px;margin-bottom:10px}.msg-progress-block .link-wrapper{margin-top:25px;text-align:center}.msg-progress-block.card-pos-center .card-block{text-align:center}@keyframes fadein{from{opacity:0}to{opacity:1}}@-webkit-keyframes fadein{from{opacity:0}to{opacity:1}}:host ::ng-deep .chart-block{color:#007ab3;text-align:center;padding:0 13px}:host ::ng-deep .chart-block .progress-total-value{font-weight:700;display:block;margin-bottom:8px;color:#003781}:host ::ng-deep .chart-block .progress-total-unit{font-size:.875rem;font-weight:700;color:#767676}.progressbar-main-block{display:flex;align-items:flex-end}.progressbar-main-block+.progressbar-main-block{margin-top:15px}.progressbar-main-block .num-block{color:#007ab3;display:flex;align-items:baseline;padding-bottom:10px;flex-wrap:wrap;width:120px;flex-grow:0}.progressbar-main-block .num-block .num-title{font-size:1.25rem;line-height:28px;font-weight:700;width:100%;display:block}.progressbar-main-block .num-block .num-unit{font-size:1.25rem;line-height:28px;font-weight:700}.progressbar-main-block .num-block .num-value{display:inline-block;padding:0 5px 0 0;text-align:center;font-weight:700}.progressbar-main-block .pregress-group-block{width:calc(100% - 120px);flex-grow:0;flex-shrink:0;display:inline-block;justify-content:flex-end}.progressbar-main-block .value-block{text-align:right;padding-top:10px}.progressbar-main-block .value-block .value-detail-block{display:flex;line-height:28px;justify-content:flex-end}.progressbar-main-block .value-block .value-detail-block .side-value{font-size:1.25rem;font-weight:700}.progressbar-main-block .value-block .value-detail-block .side-value.left-value{color:#007ab3}.progressbar-main-block .value-block .value-detail-block .mid-value{font-size:1.25rem;font-weight:700;margin:0 5px}@media (max-width:1023px){.progressbar-main-block{display:block}.progressbar-main-block .num-block{width:100%;align-items:center}.progressbar-main-block .num-block .num-title{max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content}.progressbar-main-block .num-block .num-value{margin-left:10px}.progressbar-main-block .pregress-group-block{width:100%}}.dashboard-performance-personsal{display:flex;width:100%}.msg-card-block.msg-wd-sm{display:flex;width:33.62%;padding-right:15px}.msg-card-block.msg-wd-sm .card-content-btn{width:100%}.msg-card-block.msg-wd-md{display:flex;width:calc(100% - 33.62%)}.msg-card-block.msg-wd-md .card-content-btn{width:100%}@media (max-width:1023px){.dashboard-performance-personsal{display:block}.msg-card-block.msg-wd-sm{width:100%;padding-right:0;margin-bottom:20px}.msg-card-block.msg-wd-md{width:100%}}.dashboard-performance-personsal .progressbar-main-block{flex-wrap:wrap}.dashboard-performance-personsal .progressbar-main-block .num-block{width:100%;flex-wrap:nowrap;text-align:left;justify-content:flex-start}.dashboard-performance-personsal .progressbar-main-block .num-block .num-title{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.dashboard-performance-personsal .progressbar-main-block .num-block .num-value{margin-left:10px}.dashboard-performance-personsal .progressbar-main-block .pregress-group-block{width:100%}"]}]}],e.ctorParameters=function(){return[{type:m},{type:c.ErrorHandler},{type:x.AppRouter},{type:i.ProgressService}]},e.propDecorators={onResize:[{type:c.HostListener,args:["window:resize",["$event"]]}]},e}(),S={Unread:"UnRead",All:"All",GoalSetting:"GoalSetting",Progress:"Progress",Customer:"Customer",PendingApproval:"PendingApproval"},T=function(){function e(e,t,n,a,i,o,s,r,l){this.translateService=e,this.loginMgr=t,this.errorHandler=n,this.agencyPlanStoreService=a,this.router=i,this.notificationMgr=o,this.syncService=s,this.showDashboardRule=r,this.showRule=l,this.MsgType="UnRead",this.Language=new x.Language,this.IsHasMsg=!1,this.IsCAO=!1,this._messageList=[],this.keyword="UnRead",this.msgType=[],this.defaultMsgType=[{value:S.Unread,displayName:this.Language.unread},{value:S.All,displayName:this.Language.all},{value:S.GoalSetting,displayName:this.Language.goalSettingMsgType},{value:S.Customer,displayName:this.Language.customer},{value:S.PendingApproval,displayName:this.Language.pendingApproval}],this.ConvertToImgUrl={GoalSetting:"goal",Customer:"cust"},this.ConvertCategoryToLanguage={GoalSetting:"goalSetting",Customer:"customer"},this.ConvertStatus={Reading:!0,UnRead:!1},this.filterByKeyword=new c.EventEmitter,this.clickMessage=new c.EventEmitter,this.changeCommitmentStatus=new c.EventEmitter,this.init()}return e.prototype.ngOnInit=function(){},Object.defineProperty(e.prototype,"messageList",{get:function(){return this._messageList},set:function(e){0<e.length?(this.IsHasMsg=!0,console.log("isHasMsg is true")):this.IsHasMsg=!1,this._messageList=e,console.log("detail message: ",this._messageList)},enumerable:!0,configurable:!0}),e.prototype.init=function(){return p(this,void 0,void 0,function(){var t,n;return k(this,function(e){switch(e.label){case 0:return console.log("Dashboard init"),[4,this.loginMgr.getLoginInfo().pipe(l.take(1)).toPromise()];case 1:return t=e.sent(),console.log("Dashboard init loginInfo:",t),this.showDashboardRule?(n=this.showDashboardRule.showMessageType(t),this.msgType=this.defaultMsgType.filter(function(e){return-1<n.indexOf(e.value)})):this.msgType=this.defaultMsgType,console.log("Dashboard init end:",this.msgType),[2]}})})},e.prototype.Filter=function(e){this.keyword=e,this.filterByKeyword.emit(e)},e.prototype.OnClickMessage=function(e){if("Y"===e.isClick){console.log("message",e);var t=JSON.parse(e.argument);if(console.log("argument",t,"typeof argument",typeof t),"Y"===e.isPopup)this.clickMessage.emit(e),this.filterByKeyword.emit(this.keyword),console.log("run push()"),this.notificationMgr.pushNotification(x.NotificationType[e.messageType],t);else if("N"===e.isPopup){console.log(""+t.agentID+"commitment"),this.clickMessage.emit(e),this.filterByKeyword.emit(this.keyword);var n=new o.AgencyPlanAgentInfo(t.agentID,t.agentName,t.DataYear,t.AppUseMode);console.log("agencyDetail",n),this.agencyPlanStoreService.setCurrentAgencyDetail(n),this.router.navigate("commitment")}}else"N"===e.isClick&&console.log("this is no action for click")},e.decorators=[{type:c.Component,args:[{selector:"snd-dashboard-message",template:'<div class="space-detail">\n  \x3c!-- msg --\x3e\n  <app-ui-title-style1>\n    <ng-container textType="titleText">{{\n      Language.message | translate\n    }}</ng-container>\n  </app-ui-title-style1>\n  \x3c!-- msg filter --\x3e\n  <app-ui-form-radio-group class="type-block" [nxValue]="MsgType" (nxValueChange)="Filter($event)">\n    <app-ui-form-radio2 *ngFor="let type of msgType" [value]="type.value">\n      {{ type.displayName | translate }}\n    </app-ui-form-radio2>\n  </app-ui-form-radio-group>\n  \x3c!-- end of msg filter --\x3e\n \n</div>\n\x3c!-- msg card --\x3e\n\x3c!-- IsHasMsg --\x3e\n<ng-container *ngIf="IsHasMsg; else noMsgData">\n  <div class="msg-list-block space-detail">\n    <app-dashboard-ui-card-msg *ngFor="let msg of messageList" [linkStatus]="msg.linkStatus"\n      [cardType]="ConvertToImgUrl[msg.messageCategory]" [isRead]="ConvertStatus[msg.status]" Action\n      action="\'DashboardMessageClick\'" (actionClick)="OnClickMessage(msg)">\n      <ng-container cardType> {{ msg.messageCategory | translate }} </ng-container>\n      <ng-container cardTitle> {{ msg.title | translate}} </ng-container>\n      <ng-container cardDate> {{ msg.messageDate }} </ng-container>\n      <ng-container cardTime> {{ msg.messageTime }} </ng-container>\n      <ng-container cardDetail> {{ msg.description |translate }} </ng-container>\n      <ng-container linkStatus> {{ msg.linkStatus |translate }} </ng-container>\n    </app-dashboard-ui-card-msg>\n  </div>\n</ng-container>\n\x3c!-- end of msg card --\x3e\n\x3c!-- msg nodata  --\x3e\n<ng-template #noMsgData>\n  <div class="layout-nodata layout-theme-skelton">\n    <p class="nodata-text">{{ Language.noMessage | translate }}</p>\n    <div class="nodata-img">\n      <img src="assets/img/nodata-dashboard-list.svg" />\n    </div>\n  </div>\n</ng-template>\n\x3c!-- end of msg nodata --\x3e\n',styles:[".space-detail{padding-right:40px;display:block}@media (max-width:1023px){.space-detail{padding-right:40px}}.layout-detail-block{background-color:#f5f5f5;padding-left:40px}.layout-detail-block .space-detail:not(.layout-nodata):last-child{padding-bottom:100px}.layout-detail-block .layout-nodata{padding-bottom:0}@media (min-width:768px){.layout-detail-block.style-has-right-space{padding-right:40px}.layout-detail-block.style-has-right-space.skelton-layout{padding-right:0}}.layout-detail-block.style-has-top-space{padding-top:40px}@media (max-width:767px){.space-detail{padding-right:5px}.layout-detail-block{padding-left:5px}.layout-detail-block.style-has-right-space{padding-right:5px}.layout-detail-block.style-has-top-space{padding-top:30px}}.layout-detail-block.style-has-btm-space{padding-bottom:100px}.space-inner-lg{padding-left:50px;padding-right:50px}@media (max-width:767px){.space-inner-lg{padding-left:5px;padding-right:5px}}@keyframes fadein{from{opacity:0}to{opacity:1}}@-webkit-keyframes fadein{from{opacity:0}to{opacity:1}}.layout-nodata .nodata-text{margin:0;padding:0 0 5px;font-size:.875rem;color:#414141;line-height:28px;text-align:center}.layout-nodata .nodata-img{max-width:100%;width:100%}.layout-nodata .nodata-img img{width:100%;max-width:100%}.type-block{padding-bottom:20px}"]}]}],e.ctorParameters=function(){return[{type:x.TranslateService},{type:x.DefaultLoginMgr},{type:c.ErrorHandler},{type:o.AgencyPlanStoreService},{type:x.AppRouter},{type:x.NotificationMgr},{type:x.DataSyncService},{type:undefined,decorators:[{type:c.Optional},{type:c.Inject,args:[h]}]},{type:undefined,decorators:[{type:c.Optional},{type:c.Inject,args:[x.showRuleToken]}]}]},e.propDecorators={filterByKeyword:[{type:c.Output}],clickMessage:[{type:c.Output}],changeCommitmentStatus:[{type:c.Output}],messageList:[{type:c.Input}]},e}(),P=function(){function e(){}return e.decorators=[{type:c.NgModule,args:[{imports:[a.UIModule,x.CoreModule,t.CommonModule,n.IntegrationCalendarCustomerModule],declarations:[f,d,b,y,v,C,D,T],exports:[f,d,b,y]}]}],e}(),I=function(){function e(e,t){this._showName=e,this._imgUrl=t}return Object.defineProperty(e.prototype,"showName",{get:function(){return this._showName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imgUrl",{get:function(){return this._imgUrl},enumerable:!0,configurable:!0}),e}();e.DashboardModule=P,e.DashboardComponent=f,e.DashboardDetailComponent=b,e.DashboardListComponent=d,e.DashboardUiCardMsgComponent=y,e.DashboardMessageType=S,e.DashboardService=m,e.DashboardMessage=u,e.DashboardShowLoginInfo=I,e.showDashboardRuleToken=h,e.f=b,e.e=d,e.l=T,e.k=D,e.j=C,e.i=v,e.h=y,e.a=f,e.c=h,e.b=m,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=allianzSND-dashboard.umd.min.js.map