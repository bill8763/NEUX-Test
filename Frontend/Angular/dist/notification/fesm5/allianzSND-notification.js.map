{"version":3,"file":"allianzSND-notification.js.map","sources":["ng://@allianzSND/notification/lib/components/notification/notification.component.ts","ng://@allianzSND/notification/lib/components/notification-ui/notification-ui.component.ts","ng://@allianzSND/notification/lib/notification.module.ts","ng://@allianzSND/notification/lib/service/NotificationUtils.ts"],"sourcesContent":["import { Component, OnInit, Optional, Inject, ChangeDetectorRef } from '@angular/core';\nimport { NotificationMgr, NotificationObject } from '@allianzSND/core';\n\n@Component({\n  selector: 'snd-notification',\n  templateUrl: './notification.component.html',\n  styleUrls: ['./notification.component.scss']\n})\nexport class NotificationComponent implements OnInit {\n\n  constructor(\n    private notificationMgr: NotificationMgr,\n    private changeDetector: ChangeDetectorRef\n  ) { }\n\n  notificationList = [];\n\n  ngOnInit() {\n    console.log(\"NotificationComponent OnInit\");\n    this.notificationMgr.getNotificationList().subscribe((notifications) => {\n      this.notificationList = notifications;\n      console.log(\"getNotificationList:\", notifications);\n      this.changeDetector.detectChanges();\n    })\n\n  }\n\n  dissmiss(notification: NotificationObject) {\n    this.notificationMgr.popNotification(notification);\n  }\n\n}\n","import {\n  Component,\n  OnInit,\n  Input,\n  Output,\n  EventEmitter,\n  Injector\n} from \"@angular/core\";\nimport {\n  NotificationObject,\n  Language,\n  TranslateService,\n  NotificationType\n} from \"@allianzSND/core\";\n\n@Component({\n  selector: \"snd-notification-ui\",\n  templateUrl: \"./notification-ui.component.html\",\n  styleUrls: [\"./notification-ui.component.scss\"]\n})\nexport class NotificationUiComponent implements OnInit {\n  constructor(\n    private injector: Injector,\n    private translateService: TranslateService\n  ) { }\n\n  @Input() isCheck = true;\n\n  public translateMap: Map<string, string> = new Map();\n  public NotificationType = NotificationType;\n\n  private _notification: NotificationObject = null;\n  @Input()\n  public get notification(): NotificationObject {\n    return this._notification;\n  }\n  public set notification(value: NotificationObject) {\n    console.log(\"set notification:\", value);\n    if (value) {\n      this._notification = value;\n      this.type = this._notification.type;\n      this.data = value.data;\n      this._doTranslate();\n    }\n  }\n\n  @Output() onConfirm = new EventEmitter();\n  @Output() onCancel = new EventEmitter();\n\n  public type = null;\n  //@Input() type = null; // tmp for ui\n  public data = null;\n  public language = new Language();\n\n  public Need_To_Goal_Setting_Body: string;\n  public Need_To_Goal_Setting_Remaining: string;\n  public Pending_Review_Body: string;\n  public Goal_Period_Is_Begin_Title: string;\n  public Goal_Period_Is_Begin_Body: string;\n  public Logout_Message: string;\n  public get You_Have_N_Appointment(): string {\n    return this._translateWithVariable(\n      \"You_Have_N_Appointment\"\n    );\n  }\n\n\n  ngOnInit() {\n    this.translateMap.set(\"Cross_Day\", this.translateService.translate(\"Cross_Day\"));\n    this.translateMap.set(\"All_Day\", this.translateService.translate(\"All_Day\"));\n  }\n\n  onCancelHandler() {\n    if (this.notification.action) {\n      let actionResp = this.notification.action.onCancel(this.data);\n      if (actionResp)\n        this.onCancel.emit();\n\n    }\n    else\n      this.onCancel.emit();\n  }\n  onConfirmHandler() {\n    if (this.notification.action) {\n      let actionResp = this.notification.action.onConfirm(this.data);\n      if (actionResp)\n        this.onConfirm.emit();\n    }\n    else\n      this.onConfirm.emit();\n  }\n\n\n  private _doTranslate() {\n    this.Need_To_Goal_Setting_Body = this._translateWithVariable(\n      \"Need_To_Goal_Setting_Body\"\n    );\n    this.Pending_Review_Body = this._translateWithVariable(\n      \"Pending_Review_Body\"\n    );\n    this.Goal_Period_Is_Begin_Title = this._translateWithVariable(\n      \"Goal_Period_Is_Begin_Title\"\n    );\n    this.Goal_Period_Is_Begin_Body = this._translateWithVariable(\n      \"Goal_Period_Is_Begin_Body\"\n    );\n    this.Need_To_Goal_Setting_Remaining = this._translateWithVariable(\n      \"Need_To_Goal_Setting_Remaining\"\n    );\n    this.Logout_Message = this._translateWithVariable(\"Logout_Message\");\n  }\n\n  private get _translateVariable() {\n    let days = this.data ? this.data[\"days\"] : null;\n    let years = this.data ? this.data[\"year\"] : null;\n    let appointments = this.data ? this.data[\"calendars\"] : null;\n    let minutes = this.data ? this.data[\"minutes\"] : null;\n\n    return {\n      days: days ? days : \"\", //Need_To_Goal_Setting_Body, Pending_Review_Body\n      year: years ? years : \"\", //Goal_Period_Is_Begin_Title, Goal_Period_Is_Begin_Body\n      appointments: appointments ? appointments.length : \"\", //You_Have_N_Appointment\n      minutes: minutes ? minutes : \"\" //Logout_Message\n    };\n  }\n\n  private _translateWithVariable(mappingID: string) {\n    return this.translateService.translateWithVariable(\n      mappingID,\n      this._translateVariable\n    );\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { NotificationComponent } from './components/notification/notification.component';\nimport { NotificationUiComponent } from './components/notification-ui/notification-ui.component';\nimport { UIModule } from '@allianzSND/ui';\nimport { CommonModule } from '@angular/common';\nimport { CoreModule } from '@allianzSND/core';\n\n@NgModule({\n  imports: [\n    CoreModule,\n    CommonModule,\n    UIModule\n  ],\n  declarations: [NotificationComponent, NotificationUiComponent],\n  exports: [NotificationComponent]\n})\nexport class NotificationModule { }\n","import { Injectable } from \"@angular/core\";\nimport { DeviceService, NotificationObject, NotificationMgr, NotificationType } from \"@allianzSND/core\";\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class NotificationUtils {\n\n\n    constructor(\n        private deviceService: DeviceService,\n        private notificationMgr: NotificationMgr\n    ) {\n    }\n\n    public checkNetworkBeforeAction() {\n        let isOnline = this.deviceService.getNetworkState();\n        if (!isOnline) {\n            this.notificationMgr.pushNotification(NotificationType.OnlineCheck, {});\n        }\n\n        return isOnline;\n\n    }\n\n\n}"],"names":[],"mappings":"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"}
