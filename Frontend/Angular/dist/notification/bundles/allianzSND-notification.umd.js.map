{"version":3,"file":"allianzSND-notification.umd.js.map","sources":["ng://@allianzSND/notification/lib/components/notification/notification.component.ts","ng://@allianzSND/notification/lib/components/notification-ui/notification-ui.component.ts","ng://@allianzSND/notification/lib/notification.module.ts","ng://@allianzSND/notification/lib/service/NotificationUtils.ts"],"sourcesContent":["import { Component, OnInit, Optional, Inject, ChangeDetectorRef } from '@angular/core';\nimport { NotificationMgr, NotificationObject } from '@allianzSND/core';\n\n@Component({\n  selector: 'snd-notification',\n  templateUrl: './notification.component.html',\n  styleUrls: ['./notification.component.scss']\n})\nexport class NotificationComponent implements OnInit {\n\n  constructor(\n    private notificationMgr: NotificationMgr,\n    private changeDetector: ChangeDetectorRef\n  ) { }\n\n  notificationList = [];\n\n  ngOnInit() {\n    console.log(\"NotificationComponent OnInit\");\n    this.notificationMgr.getNotificationList().subscribe((notifications) => {\n      this.notificationList = notifications;\n      console.log(\"getNotificationList:\", notifications);\n      this.changeDetector.detectChanges();\n    })\n\n  }\n\n  dissmiss(notification: NotificationObject) {\n    this.notificationMgr.popNotification(notification);\n  }\n\n}\n","import {\n  Component,\n  OnInit,\n  Input,\n  Output,\n  EventEmitter,\n  Injector\n} from \"@angular/core\";\nimport {\n  NotificationObject,\n  Language,\n  TranslateService,\n  NotificationType\n} from \"@allianzSND/core\";\n\n@Component({\n  selector: \"snd-notification-ui\",\n  templateUrl: \"./notification-ui.component.html\",\n  styleUrls: [\"./notification-ui.component.scss\"]\n})\nexport class NotificationUiComponent implements OnInit {\n  constructor(\n    private injector: Injector,\n    private translateService: TranslateService\n  ) { }\n\n  @Input() isCheck = true;\n\n  public translateMap: Map<string, string> = new Map();\n  public NotificationType = NotificationType;\n\n  private _notification: NotificationObject = null;\n  @Input()\n  public get notification(): NotificationObject {\n    return this._notification;\n  }\n  public set notification(value: NotificationObject) {\n    console.log(\"set notification:\", value);\n    if (value) {\n      this._notification = value;\n      this.type = this._notification.type;\n      this.data = value.data;\n      this._doTranslate();\n    }\n  }\n\n  @Output() onConfirm = new EventEmitter();\n  @Output() onCancel = new EventEmitter();\n\n  public type = null;\n  //@Input() type = null; // tmp for ui\n  public data = null;\n  public language = new Language();\n\n  public Need_To_Goal_Setting_Body: string;\n  public Need_To_Goal_Setting_Remaining: string;\n  public Pending_Review_Body: string;\n  public Goal_Period_Is_Begin_Title: string;\n  public Goal_Period_Is_Begin_Body: string;\n  public Logout_Message: string;\n  public get You_Have_N_Appointment(): string {\n    return this._translateWithVariable(\n      \"You_Have_N_Appointment\"\n    );\n  }\n\n\n  ngOnInit() {\n    this.translateMap.set(\"Cross_Day\", this.translateService.translate(\"Cross_Day\"));\n    this.translateMap.set(\"All_Day\", this.translateService.translate(\"All_Day\"));\n  }\n\n  onCancelHandler() {\n    if (this.notification.action) {\n      let actionResp = this.notification.action.onCancel(this.data);\n      if (actionResp)\n        this.onCancel.emit();\n\n    }\n    else\n      this.onCancel.emit();\n  }\n  onConfirmHandler() {\n    if (this.notification.action) {\n      let actionResp = this.notification.action.onConfirm(this.data);\n      if (actionResp)\n        this.onConfirm.emit();\n    }\n    else\n      this.onConfirm.emit();\n  }\n\n\n  private _doTranslate() {\n    this.Need_To_Goal_Setting_Body = this._translateWithVariable(\n      \"Need_To_Goal_Setting_Body\"\n    );\n    this.Pending_Review_Body = this._translateWithVariable(\n      \"Pending_Review_Body\"\n    );\n    this.Goal_Period_Is_Begin_Title = this._translateWithVariable(\n      \"Goal_Period_Is_Begin_Title\"\n    );\n    this.Goal_Period_Is_Begin_Body = this._translateWithVariable(\n      \"Goal_Period_Is_Begin_Body\"\n    );\n    this.Need_To_Goal_Setting_Remaining = this._translateWithVariable(\n      \"Need_To_Goal_Setting_Remaining\"\n    );\n    this.Logout_Message = this._translateWithVariable(\"Logout_Message\");\n  }\n\n  private get _translateVariable() {\n    let days = this.data ? this.data[\"days\"] : null;\n    let years = this.data ? this.data[\"year\"] : null;\n    let appointments = this.data ? this.data[\"calendars\"] : null;\n    let minutes = this.data ? this.data[\"minutes\"] : null;\n\n    return {\n      days: days ? days : \"\", //Need_To_Goal_Setting_Body, Pending_Review_Body\n      year: years ? years : \"\", //Goal_Period_Is_Begin_Title, Goal_Period_Is_Begin_Body\n      appointments: appointments ? appointments.length : \"\", //You_Have_N_Appointment\n      minutes: minutes ? minutes : \"\" //Logout_Message\n    };\n  }\n\n  private _translateWithVariable(mappingID: string) {\n    return this.translateService.translateWithVariable(\n      mappingID,\n      this._translateVariable\n    );\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { NotificationComponent } from './components/notification/notification.component';\nimport { NotificationUiComponent } from './components/notification-ui/notification-ui.component';\nimport { UIModule } from '@allianzSND/ui';\nimport { CommonModule } from '@angular/common';\nimport { CoreModule } from '@allianzSND/core';\n\n@NgModule({\n  imports: [\n    CoreModule,\n    CommonModule,\n    UIModule\n  ],\n  declarations: [NotificationComponent, NotificationUiComponent],\n  exports: [NotificationComponent]\n})\nexport class NotificationModule { }\n","import { Injectable } from \"@angular/core\";\nimport { DeviceService, NotificationObject, NotificationMgr, NotificationType } from \"@allianzSND/core\";\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class NotificationUtils {\n\n\n    constructor(\n        private deviceService: DeviceService,\n        private notificationMgr: NotificationMgr\n    ) {\n    }\n\n    public checkNetworkBeforeAction() {\n        let isOnline = this.deviceService.getNetworkState();\n        if (!isOnline) {\n            this.notificationMgr.pushNotification(NotificationType.OnlineCheck, {});\n        }\n\n        return isOnline;\n\n    }\n\n\n}"],"names":["Component","NotificationMgr","ChangeDetectorRef","NotificationType","EventEmitter","Language","Injector","TranslateService","Input","Output","NgModule","CoreModule","CommonModule","UIModule","Injectable","DeviceService"],"mappings":"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"}
