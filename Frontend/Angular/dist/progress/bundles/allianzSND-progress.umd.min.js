!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@allianzSND/notification"),require("@allianzSND/goal"),require("@angular/core"),require("@angular/common"),require("@allianzSND/ui"),require("@allianzSND/core"),require("rxjs")):"function"==typeof define&&define.amd?define("@allianzSND/progress",["exports","@allianzSND/notification","@allianzSND/goal","@angular/core","@angular/common","@allianzSND/ui","@allianzSND/core","rxjs"],e):e((t.allianzSND=t.allianzSND||{},t.allianzSND.progress={}),t.i2,t.goal,t.ng.core,t.ng.common,t.ui,t.i1,t.rxjs)}(this,function(t,e,r,a,i,n,d,o){"use strict";function s(t,e,r,a){var i,n=arguments.length,o=n<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,a);else for(var s=t.length-1;0<=s;s--)(i=t[s])&&(o=(n<3?i(o):3<n?i(e,r,o):i(e,r))||o);return 3<n&&o&&Object.defineProperty(e,r,o),o}function l(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function u(a,i){var n,o,s,t,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return t={next:e(0),"throw":e(1),"return":e(2)},"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function r(t){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,o&&(s=2&t[0]?o["return"]:t[0]?o["throw"]||((s=o["return"])&&s.call(o),0):o.next)&&!(s=s.call(o,t[1])).done)return s;switch(o=0,s&&(t=[2&t[0],s.value]),t[0]){case 0:case 1:s=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,o=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(s=0<(s=l.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3])){l.label=t[1];break}if(6===t[0]&&l.label<s[1]){l.label=s[1],s=t;break}if(s&&l.label<s[2]){l.label=s[2],l.ops.push(t);break}s[2]&&l.ops.pop(),l.trys.pop();continue}t=i.call(a,l)}catch(e){t=[6,e],o=0}finally{n=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([e,t])}}}var h=function(){function t(){this.DataYear=0,this.IsCurrent=!0,this.WorkingMonth=0,this.QuarterStartMonth=0,this.QuarterEndMonth=0,this.FindConvertPointBase=0,this.ScheduleConvertPointBase=0,this.MeetConvertPointBase=0,this.SubmitConvertPointBase=0,this.InforceConvertPointBase=0,this.ProgressBarControlMode="TWMode",this.ProgressDayPointsLimit=20,this.MonthQuantityOfYear=12,this.PerformanceSettlementMonth=0}return s([d.Required,l("design:type",Number)],t.prototype,"DataYear",void 0),s([d.Required,l("design:type",Boolean)],t.prototype,"IsCurrent",void 0),s([d.Required,l("design:type",Number)],t.prototype,"WorkingMonth",void 0),s([d.Required,l("design:type",Number)],t.prototype,"QuarterStartMonth",void 0),s([d.Required,l("design:type",Number)],t.prototype,"QuarterEndMonth",void 0),s([d.Required,l("design:type",Number)],t.prototype,"FindConvertPointBase",void 0),s([d.Required,l("design:type",Number)],t.prototype,"ScheduleConvertPointBase",void 0),s([d.Required,l("design:type",Number)],t.prototype,"MeetConvertPointBase",void 0),s([d.Required,l("design:type",Number)],t.prototype,"SubmitConvertPointBase",void 0),s([d.Required,l("design:type",Number)],t.prototype,"InforceConvertPointBase",void 0),s([d.Required,l("design:type",String)],t.prototype,"ProgressBarControlMode",void 0),s([d.Required,l("design:type",Number)],t.prototype,"ProgressDayPointsLimit",void 0),s([d.Required,l("design:type",Number)],t.prototype,"MonthQuantityOfYear",void 0),s([d.Required,l("design:type",Number)],t.prototype,"PerformanceSettlementMonth",void 0),t=s([d.Bean("ProgressYearConfig")],t)}(),c=function(){function t(){this.lastUpdateTime="",this.Configurations=new Array}return s([d.Required,l("design:type",String)],t.prototype,"lastUpdateTime",void 0),s([d.Required,l("design:type",Array)],t.prototype,"Configurations",void 0),t=s([d.Bean("ConfigurationObj")],t)}(),P=function(){function t(){this.lastUpdateTime="",this.Progress=new Array}return s([d.Required,l("design:type",String)],t.prototype,"lastUpdateTime",void 0),s([d.Required,l("design:type",Array)],t.prototype,"Progress",void 0),t=s([d.Bean("ProgressObj")],t)}(),m=function rt(){this.Values=new Array},D=function(){function t(){this.Values=new Array,this.DirectUnit=new Array,this.InDirectUnit=new Array}return s([d.Required,l("design:type",Array)],t.prototype,"Values",void 0),s([d.Required,l("design:type",Array)],t.prototype,"DirectUnit",void 0),s([d.Required,l("design:type",Array)],t.prototype,"InDirectUnit",void 0),t=s([d.Bean("TeamObj")],t)}(),S=function(){function t(){this.DataYear=0,this.YesterdayPoint=0,this.Personal=new m,this.Team=new D}return s([d.Required,l("design:type",Number)],t.prototype,"DataYear",void 0),s([d.Required,l("design:type",Number)],t.prototype,"YesterdayPoint",void 0),s([d.Required,l("design:type",m)],t.prototype,"Personal",void 0),s([d.Required,l("design:type",D)],t.prototype,"Team",void 0),t=s([d.Bean("ProgressYearObj")],t)}(),p={Day:"Day",Week:"Week",Month:"Month",Quarter:"Quarter",Year:"Year",Unknow:"Unknow"},g={Actual:"Actual",Goal:"Goal",Unknow:"Unknow"},f=function at(){this.DataType=g.Unknow,this.TimeBase=p.Unknow,this.Find=0,this.Schedule=0,this.Meet=0,this.Submit=0,this.Inforce=0,this.FYFC=0,this.FindConvertPointBase=0,this.ScheduleConvertPointBase=0,this.MeetConvertPointBase=0,this.SubmitConvertPointBase=0,this.InforceConvertPointBase=0},y={FYFC:"FYFC",ANP:"ANP",Manpower:"Manpower",Recruitment:"Recruitment",Unknow:"unKnow"},b=function(){function t(){this.DataType=y.Unknow,this.TimeBase=p.Unknow,this.Goal=0,this.Forecast=0,this.Actual=0,this.Shortfall=0}return s([d.Required,l("design:type",String)],t.prototype,"DataType",void 0),s([d.Required,l("design:type",String)],t.prototype,"TimeBase",void 0),s([d.Required,l("design:type",Number)],t.prototype,"Goal",void 0),s([d.Required,l("design:type",Number)],t.prototype,"Forecast",void 0),s([d.Required,l("design:type",Number)],t.prototype,"Actual",void 0),s([d.Required,l("design:type",Number)],t.prototype,"Shortfall",void 0),t=s([d.Bean("ProgressTeamData")],t)}(),_=function(){function t(){this.AgentID="",this.AgentName="",this.TeamName="",this.JobGrade="",this.Drilldown=!1,this.TimeBase=p.Unknow,this.DataType=y.Unknow,this.AppUseMode="",this.Activities="",this.Goal=0,this.Forecast=0,this.Actual=0,this.Shortfall=0}return s([d.Required,l("design:type",String)],t.prototype,"AgentID",void 0),s([d.Required,l("design:type",String)],t.prototype,"AgentName",void 0),s([d.Required,l("design:type",String)],t.prototype,"TeamName",void 0),s([d.Required,l("design:type",String)],t.prototype,"JobGrade",void 0),s([d.Required,l("design:type",Boolean)],t.prototype,"Drilldown",void 0),s([d.Required,l("design:type",String)],t.prototype,"TimeBase",void 0),s([d.Required,l("design:type",String)],t.prototype,"DataType",void 0),s([d.Required,l("design:type",String)],t.prototype,"AppUseMode",void 0),s([d.Required,l("design:type",String)],t.prototype,"Activities",void 0),s([d.Required,l("design:type",Number)],t.prototype,"Goal",void 0),s([d.Required,l("design:type",Number)],t.prototype,"Forecast",void 0),s([d.Required,l("design:type",Number)],t.prototype,"Actual",void 0),s([d.Required,l("design:type",Number)],t.prototype,"Shortfall",void 0),t=s([d.Bean("ProgressDirectIndirectData")],t)}(),v={DirectUnit:"Direct",IndirectUnit:"Indirect",Unknow:"Unknow"},T={PersonalTag:0,TeamTag:1,UnknowTag:2};T[T.PersonalTag]="PersonalTag",T[T.TeamTag]="TeamTag",T[T.UnknowTag]="UnknowTag";var A=function(){function t(t,e,r,a,i,n){this.dispatch=t,this.APIFactory=e,this.deviceService=r,this.notificationMgr=a,this.notficationUtils=i,this.errorHandler=n,this._drillDownAgentIdObjList=new Array,this._drillDowmAgentIdSubject=new o.BehaviorSubject(this.lastAgentIdObj),this._currentTag=T.UnknowTag,this._currentRoleSubject=new o.BehaviorSubject(this._currentRole)}return Object.defineProperty(t.prototype,"AgentIdObjListLength",{get:function(){return this._drillDownAgentIdObjList.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lastAgentIdObj",{get:function(){return 0<this._drillDownAgentIdObjList.length?this._drillDownAgentIdObjList[this.AgentIdObjListLength-1]:null},enumerable:!0,configurable:!0}),t.prototype.GetCurrentNavigationTag=function(){return this._currentTag},t.prototype.SetCurrentNavigationTag=function(t){this._currentTag=t},t.prototype.InitDrillDownAgentIdObj=function(){this._drillDownAgentIdObjList=new Array},t.prototype.AddDrillDownAgentIdObj=function(t){this._drillDownAgentIdObjList.push(t),this._drillDowmAgentIdSubject.next(this.lastAgentIdObj)},t.prototype.GetDrillDwonAgentIdObj=function(){return this._drillDowmAgentIdSubject.asObservable()},t.prototype.PopDrillDownAgentIdObj=function(){this._drillDownAgentIdObjList.pop(),this._drillDowmAgentIdSubject.next(this.lastAgentIdObj)},t.prototype.GetDrillDownAgentIdObjRouterNameObj=function(){var t=this.AgentIdObjListLength;if(2<=t){var e=new Array,r=this._drillDownAgentIdObjList[t-2],a=this._drillDownAgentIdObjList[t-1];return e.push(r),e.push(a),o.of(e)}e=new Array,r=this._drillDownAgentIdObjList[t-1];return e.push(r),o.of(e)},t.prototype.SetCurrentRole=function(t){this._currentRole=t,this._currentRoleSubject.next(this._currentRole)},t.prototype.GetCurrentRole=function(){return this._currentRoleSubject.asObservable()},t.prototype.GetIsTeam=function(){switch(this._currentRole){case r.ROLE.AGENT:return!1;case r.ROLE.AGENTLEADER:case r.ROLE.ZONEHEAD:case r.ROLE.CAO:return!0}},t.prototype.GetIsAgent=function(){return this._currentRole==r.ROLE.AGENT},t.prototype.GetIsSupervisor=function(){return this._currentRole==r.ROLE.CAO},t.prototype.GetIsManaget=function(){return this._currentRole==r.ROLE.ZONEHEAD},t.prototype.GetIsAgentLeader=function(){return this._currentRole==r.ROLE.AGENTLEADER},t.prototype.GetIsShowSwitchTab=function(){return this._currentRole==r.ROLE.AGENTLEADER},t.prototype.GetIsShowTeamTab=function(){return this._currentRole!=r.ROLE.AGENT},t.prototype.GetProgressDataByRestful=function(t){try{var e=this.APIFactory.getAPI("getProgress");return e.setAgentID(t),o.from(this.dispatch.dispatch(e).toPromise())}catch(r){this.errorHandler.handleError(new d.APPError("F00209","get Progress Data By Restful fail!"+r.message)),console.debug("getProgressDataByRestful agent id: ",t)}return o.of(null)},t.prototype.GetProgressDataBySQLite=function(_){var T=this;try{var t=this.APIFactory.getAPI("getPersonalProgress"),e=this.APIFactory.getAPI("getTeamProgressDetail"),r=this.APIFactory.getAPI("getTeamProgressMain"),a=this.APIFactory.getAPI("getOtherParameter");return o.from(Promise.all([t,e,r,a].map(function(t){return T.dispatch.dispatch(t).toPromise()})).then(function(t){var e=function b(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var a,i,n=r.call(t),o=[];try{for(;(void 0===e||0<e--)&&!(a=n.next()).done;)o.push(a.value)}catch(s){i={error:s}}finally{try{a&&!a.done&&(r=n["return"])&&r.call(n)}finally{if(i)throw i.error}}return o}(t,4),r=e[0],a=e[1],i=e[2],n=e[3];console.debug("getProgressDataBySQLite ProgressPersonalRawData: ",r),console.debug("getProgressDataBySQLite ProgressTeamDetailRawData: ",a),console.debug("getProgressDataBySQLite ProgressTeamMainRawData:",i),console.debug("getProgressDataBySQLite OtherParameterRawData:",n);var o,s=new P,l=new Array,u=new Array,h=new Array,c=new Array,p=new Array,d=new Array,g=new Array;o=T._GetYesterdayPoints(_,n),console.debug("getProgressDataBySQLite yesterdayPointsList: ",o),c=T._GetProgressPersonalData(_,r),console.debug("getProgressDataBySQLite progressPersonalDataList: ",c);for(var f=0;f<_.length;f++){(y=new m).Values=c[f],u.push(y)}p=T._GetProgressTeamMainData(_,i),console.debug("getProgressDataBySQLite progressTeamMainDataList: ",p),d=T._GetProgressTeamDirectIndirectData(_,a,v.DirectUnit),g=T._GetProgressTeamDirectIndirectData(_,a,v.IndirectUnit),console.debug("getProgressDataBySQLite progressTeamDirectDataList: ",d),console.debug("getProgressDataBySQLite progressTeamIndirectDataList: ",g);for(f=0;f<_.length;f++){(y=new D).Values=p[f]?p[f]:null,y.DirectUnit=d[f]?d[f]:null,y.InDirectUnit=g[f]?g[f]:null,h.push(y)}for(f=0;f<_.length;f++){var y;(y=new S).DataYear=_[f],y.YesterdayPoint=o[f],y.Personal=u[f],y.Team=h[f],l.push(y)}for(f=0;f<_.length;f++)s.Progress[f]=l[f];return console.debug("getProgressDataBySQLite personalObjList: ",u),console.debug("getProgressDataBySQLite teamObjList: ",h),console.debug("getProgressDataBySQLite progressYearObjList: ",l),console.debug("getProgressDataBySQLite progressObjBOSS: ",s),s}))}catch(i){this.errorHandler.handleError(new d.APPError("F00210","get Progress Data By SQLite fail!"+i.message)),console.debug("OMG! getProgressDataBySQLite fail: ")}return o.of(null)},t.prototype._GetYesterdayPoints=function(r,a){var i=new Array;console.debug("_GetYesterdayPoints years: ",r),console.debug("_GetYesterdayPoints otherParameterRawData: ",a);try{for(var t=function(e){var t=a.Body.filter(function(t){return"YesterdayPoint"==t.MappingID&&t.DataYear==r[e]});console.debug("_GetYesterdayPoints yesterdayPoint: ",t),console.debug("_GetYesterdayPoints yesterdayPoint[0]: ",t[0]),console.debug("_GetYesterdayPoints yesterdayPoint[0]set: ",t[0].SetValue),i.push(t[0].SetValue)},e=0;e<r.length;e++)t(e);return i}catch(n){this.errorHandler.handleError(new d.APPError("F00211","get yesterday points fail!"+n.message))}return null},t.prototype._GetProgressTeamDirectIndirectData=function(r,t,a){var e=new Array;console.debug("_getProgressTeamDirectIndirectData years: ",r),console.debug("_getProgressTeamDirectIndirectData progressTeamDetailRawData: ",t);try{if(t){for(var i=t.Body,n=new Array,o=function(e){var t=i.filter(function(t){return t.DataYear==r[e]&&t.DirectUnitType==a});t&&n.push(t)},s=0;s<r.length;s++)o(s);console.debug("_getProgressTeamDirectIndirectData rawDataByYearArr: ",n);for(s=0;s<n.length;s++){for(var l=new Array,u=0;u<n[s].length;u++){var h=n[s][u],c=new _;c.AgentID=h.AgentID,c.AgentName=h.AgentName,c.TeamName=h.TeamName,c.JobGrade=h.JobGrade,c.DataType=h.DataType,c.TimeBase=h.TimeBase,c.AppUseMode=h.AppUseMode,c.Activities=h.Activities,c.Drilldown="Y"==h.Drilldown,c.Actual=h.Actual,c.Goal=h.Goal,c.Forecast=h.Forecast,c.Shortfall=h.Shortfall,l.push(c)}e.push(l)}return e}throw"data null"}catch(p){this.errorHandler.handleError(new d.APPError("F00212","get Progress Team Direct Indirect Data fail!"+p.message))}return null},t.prototype._GetProgressTeamMainData=function(r,t){var e=new Array;console.debug("_getProgressTeamMainData years: ",r),console.debug("_getProgressTeamMainData progressTeamMainRawData: ",t);try{if(t){for(var a=t.Body,i=new Array,n=function(e){var t=a.filter(function(t){return t.DataYear==r[e]});t&&i.push(t)},o=0;o<r.length;o++)n(o);console.debug("_getProgressTeamMainData rawDataByYearArr: ",i);for(o=0;o<i.length;o++){for(var s=new Array,l=0;l<i[o].length;l++){var u=i[o][l],h=new b;h.DataType=u.DataType,h.TimeBase=u.TimeBase,h.Goal=u.Goal,h.Forecast=u.Forecast,h.Actual=u.Actual,h.Shortfall=u.Shortfall,s.push(h)}e.push(s)}return e}throw"data null"}catch(c){this.errorHandler.handleError(new d.APPError("F00213","Get Progress Team Main Data fail!"+c.message))}return null},t.prototype._GetProgressPersonalData=function(r,t){var e=new Array;console.debug("_getProgressPersonalData years: ",r),console.debug("_getProgressPersonalData progressPersonalRawData: ",t);try{if(t){for(var a=t.Body,i=new Array,n=function(e){var t=a.filter(function(t){return t.DataYear==r[e]});t&&i.push(t)},o=0;o<r.length;o++)n(o);console.debug("_getProgressPersonalData rawDataByYearArr: ",i);for(o=0;o<i.length;o++){for(var s=new Array,l=0;l<i[o].length;l++){var u=i[o][l],h=new f;h.DataType=u.DataType,h.TimeBase=u.TimeBase,h.Find=u.Find,h.Schedule=u.Schedule,h.Meet=u.Meet,h.Submit=u.Submit,h.Inforce=u.Inforce,h.FYFC=u.FYFC,s.push(h)}e.push(s)}return e}throw"data null"}catch(c){this.errorHandler.handleError(new d.APPError("F00214","Get Progress Personal Data fail!"+c.message))}return null},t.prototype.GetYearConfigDataBySQLite=function(){try{var t=this.APIFactory.getAPI("getYearConfiguration");return o.from(this.dispatch.dispatch(t).toPromise().then(function(t){console.debug("getYearConfig resp: ",t);var e=t.Body;console.debug("getYearConfig dataBady: ",e);for(var r=new c,a=new Array,i=0;i<e.length;i++){var n=new h,o=e[i];n.DataYear=o.DataYear,n.IsCurrent="Y"===o.IsCurrent,n.WorkingMonth=o.WorkingMonth,n.QuarterStartMonth=o.QuarterStartMonth,n.QuarterEndMonth=o.QuarterEndMonth,n.ProgressDayPointsLimit=o.ProgressDayPointsLimit,n.ProgressBarControlMode=o.ProgressBarControlMode,n.MonthQuantityOfYear=o.MonthQuantityOfYear,n.FindConvertPointBase=o.FindConvertPointBase,n.ScheduleConvertPointBase=o.ScheduleConvertPointBase,n.MeetConvertPointBase=o.MeetConvertPointBase,n.SubmitConvertPointBase=o.SubmitConvertPointBase,n.InforceConvertPointBase=o.InforceConvertPointBase,n.PerformanceSettlementMonth=o.PerformanceSettlementMonth,a.push(n)}return r.Configurations=a,console.debug("configObj: ",r),console.debug("configObj: ",JSON.stringify(r)),console.debug("got SQlite year config resp: ",t),console.debug("got SQlite year config resp json: ",JSON.stringify(t)),r}))}catch(e){this.errorHandler.handleError(new d.APPError("F00215","OMG! get Year Config SQLite fail!"+e.message))}return o.of(null)},t.prototype.GetYearConfigDataByRestful=function(t){try{var e=this.APIFactory.getAPI("getYearConfig");return e.setAgentID(t),o.from(this.dispatch.dispatch(e).toPromise())}catch(r){this.errorHandler.handleError(new d.APPError("F00209","get Progress Data By Restful fail!"+r.message)),console.debug("getProgressDataByRestful agent id: ",t)}return o.of(null)},t.prototype.ShowDesh=function(t,e){return void 0===e&&(e="--"),d.NumberUtils.isNumber(t)?t<=-1?e:t.toString():e},t.prototype.GetPoints=function(t,e){var r=t*e;return r<=-1?"--":r.toString()},t.prototype.GetTotalPoints=function(t){var e=new f;return e.Find=-1==t.Find?0:t.Find,e.Schedule=-1==t.Schedule?0:t.Schedule,e.Meet=-1==t.Meet?0:t.Meet,e.Submit=-1==t.Submit?0:t.Submit,e.Inforce=-1==t.Inforce?0:t.Inforce,e.Find*t.FindConvertPointBase+e.Schedule*t.ScheduleConvertPointBase+e.Meet*t.MeetConvertPointBase+e.Submit*t.SubmitConvertPointBase+e.Inforce*t.InforceConvertPointBase},t.prototype.GetPercentageCircleValue=function(t,e,r){console.debug("_getPercentageCircleValue: ",t);var a=new f;a.DataType=t.DataType,a.TimeBase=t.TimeBase,a.Find=-1==t.Find?0:t.Find,a.Schedule=-1==t.Schedule?0:t.Schedule,a.Meet=-1==t.Meet?0:t.Meet,a.Submit=-1==t.Submit?0:t.Submit,a.Inforce=-1==t.Inforce?0:t.Inforce;var i=a.Find*t.FindConvertPointBase+a.Schedule*t.ScheduleConvertPointBase+a.Meet*t.MeetConvertPointBase+a.Submit*t.SubmitConvertPointBase+a.Inforce*t.InforceConvertPointBase,n=1==r?7*e:e,o=i/n;return console.debug("_getPercentageCircleValue ans max sum: ",o,n,i),0!=o&&d.NumberUtils.isNumber(o)?1<=o?"1":o.toFixed(2):"0"},t.prototype.GetPercentage=function(t,e){if(t<=0||e<=0)return 0;var r=Math.round(t/e*100);return r||0},t.prototype.GetPercentageLength=function(t,e,r,a){if(t<=0||e<=0)return 0;var i=Math.round(t/e*100)/a;return r<=i?r:i},t.decorators=[{type:a.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:d.APIDispatch},{type:d.APIFactory},{type:d.DeviceService},{type:d.NotificationMgr},{type:e.NotificationUtils},{type:a.ErrorHandler}]},t.ngInjectableDef=a.defineInjectable({factory:function(){return new t(a.inject(d.APIDispatch),a.inject(d.APIFactory),a.inject(d.DeviceService),a.inject(d.NotificationMgr),a.inject(e.NotificationUtils),a.inject(a.ErrorHandler))},token:t,providedIn:"root"}),s([d.Valid("ProgressDirectIndirectData"),l("design:type",Function),l("design:paramtypes",[]),l("design:returntype",o.Observable)],t.prototype,"GetDrillDwonAgentIdObj",null),s([d.Valid("ProgressDirectIndirectData"),l("design:type",Function),l("design:paramtypes",[]),l("design:returntype",o.Observable)],t.prototype,"GetDrillDownAgentIdObjRouterNameObj",null),s([d.Valid("ProgressObj"),l("design:type",Function),l("design:paramtypes",[Array]),l("design:returntype",o.Observable)],t.prototype,"GetProgressDataBySQLite",null),s([d.Valid("ConfigurationObj"),l("design:type",Function),l("design:paramtypes",[]),l("design:returntype",o.Observable)],t.prototype,"GetYearConfigDataBySQLite",null),t}(),I=function(){function t(t,e,r,a,i,n){this._clientID=t,this._dataYear=e,this._performanceType=r,this._dataType=a,this._month=i,this._value=n}return Object.defineProperty(t.prototype,"ClientID",{get:function(){return this._clientID},set:function(t){this._clientID=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"DataYear",{get:function(){return this._dataYear},set:function(t){this._dataYear=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"PerformanceType",{get:function(){return this._performanceType},set:function(t){this._performanceType=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"DataType",{get:function(){return this._dataType},set:function(t){this._dataType=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Month",{get:function(){return this._month},set:function(t){this._month=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Value",{get:function(){return this._value},set:function(t){this._value=t},enumerable:!0,configurable:!0}),s([d.Required,l("design:type",String)],t.prototype,"_clientID",void 0),s([d.Required,l("design:type",Number)],t.prototype,"_dataYear",void 0),s([d.Required,l("design:type",String)],t.prototype,"_performanceType",void 0),s([d.Required,l("design:type",String)],t.prototype,"_dataType",void 0),s([d.Required,l("design:type",Number)],t.prototype,"_month",void 0),s([d.Required,l("design:type",Number)],t.prototype,"_value",void 0),t=s([d.Bean("ProgressActualValue"),l("design:paramtypes",[String,Number,String,String,Number,Number])],t)}(),x=function(){function t(t,e,r,a,i,n,o,s){this._dataYear=t,this._timeBase=e,this._dataType=r,this._find=a,this._schedule=i,this._meet=n,this._submit=o,this._inforce=s}return Object.defineProperty(t.prototype,"DataYear",{get:function(){return this._dataYear},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"DataTear",{set:function(t){this._dataYear=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"TimeBase",{get:function(){return this._timeBase},set:function(t){this._timeBase=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"DataType",{get:function(){return this._dataType},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"DataTypet",{set:function(t){this._dataType=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Find",{get:function(){return this._find},set:function(t){this._find=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Schedule",{get:function(){return this._schedule},set:function(t){this._schedule=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Meet",{get:function(){return this._meet},set:function(t){this._meet=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Submit",{get:function(){return this._submit},set:function(t){this._submit=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Inforce",{get:function(){return this._inforce},set:function(t){this._inforce=t},enumerable:!0,configurable:!0}),t.prototype.getTotalCount=function(){return this.Find+this.Schedule+this.Meet+this.Submit+this.Inforce},t.prototype.getTotalPoints=function(){return this.getFindPoints()+this.getSchedulePoints()+this.getMeetPoints()+this.getSubmitPoints()+this.getInforcePoints()},t.prototype.getDifferentPercentage=function(t,e){return Math.round(t/e*100)},t.prototype.getFindPoints=function(){return 1*this.Find},t.prototype.getSchedulePoints=function(){return 1*this.Schedule},t.prototype.getMeetPoints=function(){return 2*this.Meet},t.prototype.getSubmitPoints=function(){return 10*this.Submit},t.prototype.getInforcePoints=function(){return 2*this.Inforce},s([d.Required,l("design:type",Number)],t.prototype,"_dataYear",void 0),s([d.Required,l("design:type",String)],t.prototype,"_timeBase",void 0),s([d.Required,l("design:type",String)],t.prototype,"_dataType",void 0),s([d.Required,l("design:type",Number)],t.prototype,"_find",void 0),s([d.Required,l("design:type",Number)],t.prototype,"_schedule",void 0),s([d.Required,l("design:type",Number)],t.prototype,"_meet",void 0),s([d.Required,l("design:type",Number)],t.prototype,"_submit",void 0),s([d.Required,l("design:type",Number)],t.prototype,"_inforce",void 0),t=s([d.Bean("PersonalData"),l("design:paramtypes",[Number,String,String,Number,Number,Number,Number,Number])],t)}(),V=function(){function t(){this._dataYear=-1,this._timeBase=p.Unknow,this._dataType=g.Unknow}return Object.defineProperty(t.prototype,"DataYear",{get:function(){return this._dataYear},set:function(t){this._dataYear=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"TimeBase",{get:function(){return this._timeBase},set:function(t){this._timeBase=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"DataType",{get:function(){return this._dataType},set:function(t){this._dataType=t},enumerable:!0,configurable:!0}),s([d.Required,l("design:type",Number)],t.prototype,"_dataYear",void 0),s([d.Required,l("design:type",String)],t.prototype,"_timeBase",void 0),s([d.Required,l("design:type",String)],t.prototype,"_dataType",void 0),t=s([d.Bean("PersonalDataState"),l("design:paramtypes",[])],t)}(),M={TWMode:"TWMode",Unknow:"Unknow"},w=function(){function t(){this._barLengthMaxValue=1.5}return Object.defineProperty(t.prototype,"barLengthMaxValue",{get:function(){return this._barLengthMaxValue},set:function(t){this._barLengthMaxValue=t},enumerable:!0,configurable:!0}),t.prototype.GetConfigMin=function(t){switch(t){case M.TWMode:return 70;case M.Unknow:default:return 0}},t.prototype.GetConfigMax=function(t){switch(t){case M.TWMode:return 100;case M.Unknow:default:return 0}},s([d.Required,l("design:type",Number)],t.prototype,"_barLengthMaxValue",void 0),t=s([d.Bean("ProgressBarControlData")],t)}(),W=function it(){this.AgentID="",this.AgentName="",this.JobGrade="",this.Drilldown=!1,this.TimeBase=p.Unknow,this.DataType=y.Unknow,this.Activities="",this.Goal=0,this.Forecast=0,this.Actual=0,this.Shortfall=0},B=function(){function t(){this.AgentID="",this.AgentName="",this.JobGrade="",this.Drilldown=!1,this.TimeBase=p.Unknow,this.DataType=y.Unknow,this.Activities="",this.Goal=0,this.Forecast=0,this.Actual=0,this.Shortfall=0}return s([d.Required,l("design:type",String)],t.prototype,"AgentID",void 0),s([d.Required,l("design:type",String)],t.prototype,"AgentName",void 0),s([d.Required,l("design:type",String)],t.prototype,"JobGrade",void 0),s([d.Required,l("design:type",Boolean)],t.prototype,"Drilldown",void 0),s([d.Required,l("design:type",String)],t.prototype,"TimeBase",void 0),s([d.Required,l("design:type",String)],t.prototype,"DataType",void 0),s([d.Required,l("design:type",String)],t.prototype,"Activities",void 0),s([d.Required,l("design:type",Number)],t.prototype,"Goal",void 0),s([d.Required,l("design:type",Number)],t.prototype,"Forecast",void 0),s([d.Required,l("design:type",Number)],t.prototype,"Actual",void 0),s([d.Required,l("design:type",Number)],t.prototype,"Shortfall",void 0),t=s([d.Bean("ProgressIndirectData")],t)}(),R=function(){function t(){this._dataYear=-1,this._timeBase=p.Unknow,this._teamValueType=y.FYFC}return Object.defineProperty(t.prototype,"DataYear",{get:function(){return this._dataYear},set:function(t){this._dataYear=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"TimeBase",{get:function(){return this._timeBase},set:function(t){this._timeBase=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"TeamValueType",{get:function(){return this._teamValueType},set:function(t){this._teamValueType=t},enumerable:!0,configurable:!0}),s([d.Required,l("design:type",Number)],t.prototype,"_dataYear",void 0),s([d.Required,l("design:type",String)],t.prototype,"_timeBase",void 0),s([d.Required,l("design:type",String)],t.prototype,"_teamValueType",void 0),t=s([d.Bean("TeamDataState"),l("design:paramtypes",[])],t)}(),C=function(){function t(t){this.translateService=t,this._translateVariable=null,this.WeekText="",this.TodayText="",this.FindNameText="",this.FindContentText="",this.FindUnitText="",this.ScheduleNameText="",this.ScheduleContentText="",this.ScheduleUnitText="",this.MeetNameText="",this.MeetContentText="",this.MeetUnitText="",this.SubmitNameText="",this.SubmitContentText="",this.SubmitUnitText="",this.InforceNameText="",this.InforceContentText="",this.InforceUnitText="",this.AlmostMadeItMsg="",this.CongratulationsMsg="",this.WellDoneMsg="",this.GreatJobMsg="",this.PointsText="",this._setTranslateVariable(),this.WeekText=this._translateWithVariable("Week"),this.TodayText=this._translateWithVariable("Today"),this.FindNameText=this._translateWithVariable("Find"),this.FindContentText=this._translateWithVariable("Find_Subtitle"),this.FindUnitText=this._translateWithVariable("People"),this.ScheduleNameText=this._translateWithVariable("Schedule"),this.ScheduleContentText=this._translateWithVariable("Schedule_Subtitle"),this.ScheduleUnitText=this._translateWithVariable("Times"),this.MeetNameText=this._translateWithVariable("Meet"),this.MeetContentText=this._translateWithVariable("Meet_Subtitle"),this.MeetUnitText=this._translateWithVariable("Times"),this.SubmitNameText=this._translateWithVariable("Submit"),this.SubmitContentText=this._translateWithVariable("Submit_Subtitle"),this.SubmitUnitText=this._translateWithVariable("Times"),this.InforceNameText=this._translateWithVariable("Inforce"),this.InforceContentText=this._translateWithVariable("Inforce_Subtitle"),this.InforceUnitText=this._translateWithVariable("Times"),this.PointsText=this._translateWithVariable("Points"),this.CongratulationsMsg=this._translateWithVariable("Progress_Congratulations_Message"),this.AlmostMadeItMsg=this._translateWithVariable("Progress_Almost_Made_It_Message"),this.WellDoneMsg=this._translateWithVariable("Progress_Well_Done_Message"),this.GreatJobMsg=this._translateWithVariable("Progress_Great_Job_Message")}return t.prototype._setTranslateVariable=function(){this._translateVariable={gratsPoints:20,wellDownPoints:10}},t.prototype._translateWithVariable=function(t){return this.translateService.translateWithVariable(t,this._translateVariable)},t}(),j=function(){function t(t){this.translateService=t,this._translateVariable=null,this.PersonalText="",this.TeamText="",this.MonthText="",this.QuarterText="",this.YearText="",this.BackToProgressBtnText="",this._setTranslateVariable(),this.PersonalText=this._translateWithVariable("Personal"),this.TeamText=this._translateWithVariable("Team"),this.MonthText=this._translateWithVariable("Month"),this.QuarterText=this._translateWithVariable("Quarter"),this.YearText=this._translateWithVariable("Year"),this.BackToProgressBtnText=this._translateWithVariable("Back_To_Progress")}return t.prototype._setTranslateVariable=function(){this._translateVariable={}},t.prototype._translateWithVariable=function(t){return this.translateService.translateWithVariable(t,this._translateVariable)},t}(),L=function(){function t(t){this.translateService=t,this._translateVariable=null,this.ActivitiesText="",this.AchieveText="",this.FindText="",this.FindContentText="",this.ScheduleText="",this.ScheduleContentText="",this.MeetPresentText="",this.MeetPresentContentText="",this.SubmitText="",this.SubmitContentText="",this.InforceText="",this.InforceContentText="",this.ActualGoalText="",this.ActualPlanText="",this._setTranslateVariable(),this.ActivitiesText=this._translateWithVariable("Activities"),this.AchieveText=this._translateWithVariable("Achieve"),this.ActualGoalText=this._translateWithVariable("Actual_Goal"),this.ActualPlanText=this._translateWithVariable("Actual_Plan"),this.FindText=this._translateWithVariable("Find"),this.FindContentText=this._translateWithVariable("Find_Subtitle"),this.ScheduleText=this._translateWithVariable("Schedule"),this.ScheduleContentText=this._translateWithVariable("Schedule_Subtitle"),this.MeetPresentText=this._translateWithVariable("Meet_Present"),this.MeetPresentContentText=this._translateWithVariable("Meet_Subtitle"),this.SubmitText=this._translateWithVariable("Submit"),this.SubmitContentText=this._translateWithVariable("Submit_Subtitle"),this.InforceText=this._translateWithVariable("Inforce"),this.InforceContentText=this._translateWithVariable("Inforce_Subtitle")}return t.prototype._setTranslateVariable=function(){this._translateVariable={}},t.prototype._translateWithVariable=function(t){return this.translateService.translateWithVariable(t,this._translateVariable)},t}(),O=function(){function t(t){this.translateService=t,this._translateVariable=null,this.MonthlyPlanFYFCTitleText="",this.MonthText="",this.PlanText="",this.ActualText="",this.TotalForecastTitle="",this.TotalYTDActualTitle="",this._setTranslateVariable(),this.MonthlyPlanFYFCTitleText=this._translateWithVariable("Monthly_Plan_FYFC_Title"),this.MonthText=this._translateWithVariable("Month"),this.ActualText=this._translateWithVariable("Actual"),this.PlanText=this._translateWithVariable("Plan"),this.TotalForecastTitle=this._translateWithVariable("Total_Forecast"),this.TotalYTDActualTitle=this._translateWithVariable("Total_YTD_Actual")}return t.prototype._setTranslateVariable=function(){this._translateVariable={}},t.prototype._translateWithVariable=function(t){return this.translateService.translateWithVariable(t,this._translateVariable)},t}(),F=function(){function t(t){this.translateService=t,this._translateVariable=null,this.MonthText="",this.QuarterText="",this.YearText="",this.ManpowerText="",this.RecruitmentText="",this._setTranslateVariable(),this.MonthText=this._translateWithVariable("Month"),this.QuarterText=this._translateWithVariable("Quarter"),this.YearText=this._translateWithVariable("Year"),this.ManpowerText=this._translateWithVariable("Manpower"),this.RecruitmentText=this._translateWithVariable("Recruitment")}return t.prototype._setTranslateVariable=function(){this._translateVariable={}},t.prototype._translateWithVariable=function(t){return this.translateService.translateWithVariable(t,this._translateVariable)},t}(),Y=function(){function t(t){this.translateService=t,this._translateVariable=null,this.DirectUnitTitle="",this.ActivitiesText="",this.GoalText="",this.ForecastText="",this.ActualText="",this.ShortfallText="",this._setTranslateVariable(),this.DirectUnitTitle=this._translateWithVariable("Direct_Unit_Title"),this.ActivitiesText=this._translateWithVariable("Activities"),this.ActualText=this._translateWithVariable("Actual"),this.ForecastText=this._translateWithVariable("Forecast"),this.GoalText=this._translateWithVariable("Goal"),this.ShortfallText=this._translateWithVariable("Shortfall")}return t.prototype._setTranslateVariable=function(){this._translateVariable={}},t.prototype._translateWithVariable=function(t){return this.translateService.translateWithVariable(t,this._translateVariable)},t}(),Q=function(){function t(t){this.translateService=t,this._translateVariable=null,this.IndirectUnitTitle="",this.GoalText="",this.ForecastText="",this.ActualText="",this.ShortfallText="",this._setTranslateVariable(),this.IndirectUnitTitle=this._translateWithVariable("Indirect_Unit_Title"),this.GoalText=this._translateWithVariable("Goal"),this.ForecastText=this._translateWithVariable("Forecast"),this.ActualText=this._translateWithVariable("Actual"),this.ShortfallText=this._translateWithVariable("Shortfall")}return t.prototype._setTranslateVariable=function(){this._translateVariable={}},t.prototype._translateWithVariable=function(t){return this.translateService.translateWithVariable(t,this._translateVariable)},t}(),N=function(){function t(t){this.translateService=t,this._translateVariable=null,this._language=new d.Language,this.AgencyTitle="",this.AllZoneTitle="",this.GoalText="",this.ForecastText="",this.ActualText="",this.ManpowerText="",this.ShortfallText="",this.RecruitmentText="",this._setTranslateVariable(),this.AgencyTitle=this._translateWithVariable("Agency_Title"),this.AllZoneTitle=this._translateWithVariable("All_Zone_Title"),this.ManpowerText=this._translateWithVariable(this._language.progressManpower),this.RecruitmentText=this._translateWithVariable(this._language.progressRecruitment),this.GoalText=this._translateWithVariable(this._language.progressGoal),this.ActualText=this._translateWithVariable(this._language.progressActual),this.ForecastText=this._translateWithVariable(this._language.progressForecast),this.ShortfallText=this._translateWithVariable(this._language.progressShortfall)}return t.prototype._setTranslateVariable=function(){this._translateVariable={}},t.prototype._translateWithVariable=function(t){return this.translateService.translateWithVariable(t,this._translateVariable)},t}(),G=function(){function t(t){this.translateService=t,this._translateVariable=null,this.MonthText="",this.QuarterText="",this.YearText="",this.ManpowerText="",this.RecruitmentText="",this.GoalText="",this.ForecastText="",this.ActualText="",this.ShortfallText="",this._setTranslateVariable(),this.MonthText=this._translateWithVariable("Month"),this.QuarterText=this._translateWithVariable("Quarter"),this.YearText=this._translateWithVariable("Year"),this.ManpowerText=this._translateWithVariable("Manpower"),this.RecruitmentText=this._translateWithVariable("Recruitment"),this.GoalText=this._translateWithVariable("Goal"),this.ForecastText=this._translateWithVariable("Forecast"),this.ActualText=this._translateWithVariable("Actual"),this.ShortfallText=this._translateWithVariable("Shortfall")}return t.prototype._setTranslateVariable=function(){this._translateVariable={}},t.prototype._translateWithVariable=function(t){return this.translateService.translateWithVariable(t,this._translateVariable)},t}(),q=function(){function t(t){this.translateService=t,this._translateVariable=null,this.MonthText="",this.QuarterText="",this.YearText="",this.ForecastText="",this.RecruitmentText="",this.InformationDescriptionText="",this.InfoTitle="",this.InfoMonthDetailText="",this.InfoQuarterDetailText="",this.InfoYearDetailText="",this.InfoForecastRecruitmentDetailText="",this.InfoAllAmountCountsByMillionText="",this.InfoHowToReadThisTitle="",this.InfoConversionRateText="",this.InfoConversionRateDetailText="",this.InfoActivityLabelText="",this.InfoRedMeanText="",this.InfoGreyMeanText="",this.InfoIfAnActivity1Text="",this.InfoIfAnActivity2Text="",this.InfoToFindText="",this.InfoTryTo1Text="",this.InfoTryTo2Text="",this.InfoTryTo3Text="",this.InfoMoreActive1Text="",this.InfoMoreActive2Text="",this.InfoMoreActive3Text="",this.InfoMoreActive4Text="",this.InfoTryHard1Text="",this.InfoTryHard2Text="",this.InfoTryHard3Text="",this.InfoHighQuality1Text="",this.InfoHighQuality2Text="",this._setTranslateVariable(),this.MonthText=this._translateWithVariable("Month"),this.QuarterText=this._translateWithVariable("Quarter"),this.YearText=this._translateWithVariable("Year"),this.ForecastText=this._translateWithVariable("Forecast"),this.RecruitmentText=this._translateWithVariable("Recruitment"),this.InformationDescriptionText=this._translateWithVariable("Info_Information_Description"),this.InfoTitle=this._translateWithVariable("Info_Title"),this.InfoMonthDetailText=this._translateWithVariable("Info_Month_Detail"),this.InfoQuarterDetailText=this._translateWithVariable("Info_Quarter_Detail"),this.InfoYearDetailText=this._translateWithVariable("Info_Year_Detail"),this.InfoForecastRecruitmentDetailText=this._translateWithVariable("Info_Forecast_Recruitment_Detail"),this.InfoHowToReadThisTitle=this._translateWithVariable("Info_How_To_Read_This"),this.InfoConversionRateText=this._translateWithVariable("Info_Conversion_Rate"),this.InfoConversionRateDetailText=this._translateWithVariable("Info_Conversion_Rate_Detail"),this.InfoActivityLabelText=this._translateWithVariable("Info_Activity_Label"),this.InfoRedMeanText=this._translateWithVariable("Info_Red_Mean"),this.InfoGreyMeanText=this._translateWithVariable("Info_Grey_Mean"),this.InfoIfAnActivity1Text=this._translateWithVariable("Info_If_An_Activity_1"),this.InfoIfAnActivity2Text=this._translateWithVariable("Info_If_An_Activity_2"),this.InfoToFindText=this._translateWithVariable("Info_To_Find"),this.InfoTryTo1Text=this._translateWithVariable("Info_Try_To_1"),this.InfoTryTo2Text=this._translateWithVariable("Info_Try_To_2"),this.InfoTryTo3Text=this._translateWithVariable("Info_Try_To_3"),this.InfoMoreActive1Text=this._translateWithVariable("Info_More_Active_1"),this.InfoMoreActive2Text=this._translateWithVariable("Info_More_Active_2"),this.InfoMoreActive3Text=this._translateWithVariable("Info_More_Active_3"),this.InfoMoreActive4Text=this._translateWithVariable("Info_More_Active_4"),this.InfoTryHard1Text=this._translateWithVariable("Info_Try_Hard_1"),this.InfoTryHard2Text=this._translateWithVariable("Info_Try_Hard_2"),this.InfoTryHard3Text=this._translateWithVariable("Info_Try_Hard_3"),this.InfoHighQuality1Text=this._translateWithVariable("Info_High_Quality_1"),this.InfoHighQuality2Text=this._translateWithVariable("Info_High_Quality_2"),this.InfoAllAmountCountsByMillionText=this._translateWithVariable("Info_All_Amount_Counts_By_Million")}return t.prototype._setTranslateVariable=function(){this._translateVariable={}},t.prototype._translateWithVariable=function(t){return this.translateService.translateWithVariable(t,this._translateVariable)},t}(),k=function(){function t(){}return t.decorators=[{type:a.NgModule,args:[{imports:[d.CoreModule,n.UIModule,i.CommonModule],declarations:[],exports:[]}]}],t}(),U=function(){function t(t){this._year=-1,this._daoFactory=t}return t.prototype.SetYear=function(t){this._year=t},t.prototype.getAPIName=function(){return"getPersonalProgress"},t.prototype.getMockPath=function(){return"./assets/mock/getPersonalProgressMock.json"},t.prototype.executeSQL=function(){console.debug("SQLite Start ");var t=this._daoFactory.getDefaultDao();console.debug("SQLite defaultDao: ",t);var e=this._daoFactory.getDefaultTable("TW_LH_SD_VW_Personal_Progress");if(console.debug("SQLite tableObj: ",e),t!=undefined&&e!=undefined)return o.from(t.queryByTable(e).toPromise().then(function(t){return console.debug("SQLite getPersonalProgress resp: ",t),console.debug("SQLite getPersonalProgress json resp: ",JSON.stringify(t)),t}));o.of(!1),console.debug("SQLite failed")},t}(),E=function(){function t(){}return Object.defineProperty(t.prototype,"ClientId",{set:function(t){this._clientID=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"DataType",{set:function(t){this._personalDataType=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"TimeBase",{set:function(t){this._personalDataTimeBase=t},enumerable:!0,configurable:!0}),t.prototype.setDataYear=function(t){this._dataYear=t},t.prototype.getAPIName=function(){return"getProgressActualValue"},t.prototype.getMockPath=function(){return 2019==this._dataYear?"./assets/mock/getProgressActualValue_2019.json":2020==this._dataYear?"./assets/mock/getProgressActualValue_2020.json":(console.warn("dataYear not match mock path"),"")},t.prototype.executeSQL=function(){throw new Error("Method not implemented.")},t}(),H=function(){function t(t){this._daoFactory=t}return Object.defineProperty(t.prototype,"SearchYear",{get:function(){return this._searchYear},set:function(t){this._searchYear=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ClientId",{set:function(t){this._clientID=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"DataType",{set:function(t){this._personalDataType=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"TimeBase",{set:function(t){this._personalDataTimeBase=t},enumerable:!0,configurable:!0}),t.prototype.getAPIName=function(){return"getProgressDataActualValue"},t.prototype.getMockPath=function(){return"./assets/mock/getProgressDataActualValueMock.json"},t.prototype.executeSQL=function(){console.debug("SQLite actual start ");var t=this._daoFactory.getDefaultDao();console.debug("SQLite actual defaultDao: ",t);var e=this._daoFactory.getDefaultTable("TW_LH_SD_VW_Actual_Value");if(console.debug("SQLite actual progressActualObj: ",e),t!=undefined&&e!=undefined)return o.from(t.queryByTable(e).toPromise().then(function(t){console.debug("SQLite actual data api resp: ",t)}).then(function(t){var e=t.Body,r=e.filter(function(t){return 2019==t.DataYear}),a=e.filter(function(t){return 2020==t.DataYear});console.debug("SQLite actual test date body: ",e),console.debug("SQLite actual test filterData: ",r),console.debug("SQLite actual test filterData2: ",a);var i=[];return i.push(r),i.push(a),console.debug("SQLite actual test arr: ",i),i}).then(function(t){var e=t,r={DataYear:"2019",TimeBase:"Month",Values:[]},a={DataYear:"2020",TimeBase:"Month",Values:[]};r.Values.push(e[0]),a.Values.push(e[1]);var i=[];return i.push(r),i.push(a),console.debug("SQLite actual test progressActualObj123: ",i),i}).then(function(t){var e=t;console.debug("SQLite actual test resp progressActualObj123 : ",t),console.debug("SQLite actual test data progressActualObj123 : ",e);var r={lastUpdateTime:"2019-06-19",Actual:[]};return r.Actual.push(e[0]),r.Actual.push(e[1]),console.debug("SQLite actual test defaultProgressActualObj : ",r),r}));console.debug("SQLite actual data fail......")},t}(),J=function(){function t(t){this._clientID=0,this._personalDataType=g.Actual,this._personalDataTimeBase=p.Day,this._searchYear=0,this._daoFactory=t}return Object.defineProperty(t.prototype,"SearchYear",{get:function(){return this._searchYear},set:function(t){this._searchYear=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"SearchClientId",{set:function(t){this._clientID=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"SearchCLientId",{get:function(){return this._clientID},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"SearchDataType",{get:function(){return this._personalDataType},set:function(t){this._personalDataType=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"SearchTimeBase",{get:function(){return this._personalDataTimeBase},set:function(t){this._personalDataTimeBase=t},enumerable:!0,configurable:!0}),t.prototype.getAPIName=function(){return"getProgressData"},t.prototype.getMockPath=function(){return"./assets/mock/getProgressDataMock.json"},t.prototype.executeSQL=function(){console.debug("SQLite progress start ");var t=this._daoFactory.getDefaultDao();console.debug("SQLite progress defaultDao: ",t);var e=this._daoFactory.getDefaultTable("TW_LH_SD_VW_Personal_Progress");if(console.debug("SQLite progress progressTableObj: ",e),e!=undefined&&t!=undefined)return o.from(t.queryByTable(e).toPromise().then(function(t){return console.debug("SQLite progress data api resp: ",t),t}).then(function(t){var e=t.Body,r=e.filter(function(t){return 2019==t.DataYear}),a=e.filter(function(t){return 2020==t.DataYear});console.debug("SQLite progress test date body: ",e),console.debug("SQLite progress test filterData: ",r),console.debug("SQLite progress test filterData2: ",a);var i=[];return i.push(r),i.push(a),console.debug("SQLite progress test arr: ",i),i}).then(function(t){var e=t,r={DataYear:"2019",YesterdayPoint:"20",Personal:{Values:[]}},a={DataYear:"2020",YesterdayPoint:"20",Personal:{Values:[]}};r.Personal.Values.push(e[0]),a.Personal.Values.push(e[1]);var i=[];return i.push(r),i.push(a),console.debug("SQLite progress test progressObj123: ",i),i}).then(function(t){var e=t;console.debug("SQLite progress test resp progressObj123 : ",t),console.debug("SQLite progress test data progressObj123 : ",e);var r={lastUpdateTime:"2019-06-19",Progress:[]};return r.Progress.push(e[0]),r.Progress.push(e[1]),console.debug("SQLite progress test defaultProgressObj123 : ",r),r}));console.debug("SQLite progress fail.....")},t}(),z=function(){function t(t){this._daoFactory=t}return Object.defineProperty(t.prototype,"SearchYear",{get:function(){return this._searchYear},set:function(t){this._searchYear=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ClientId",{set:function(t){this._clientID=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"DataType",{set:function(t){this._personalDataType=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"TimeBase",{set:function(t){this._personalDataTimeBase=t},enumerable:!0,configurable:!0}),t.prototype.getAPIName=function(){return"getProgressDataGoalSettingPlan"},t.prototype.getMockPath=function(){return"./assets/mock/getProgressDataGoalSettingPlanMock.json"},t.prototype.executeSQL=function(){console.debug("SQLite goal plan start ");var t=this._daoFactory.getDefaultDao();console.debug("SQLite goal plan defaultDao: ",t);var e=this._daoFactory.getDefaultTable("TW_LH_SD_VW_Goal_Setting_Plan_Value");if(console.debug("SQLite goal plan progressGoalPlanObj: ",e),t!=undefined&&e!=undefined)return o.from(t.queryByTable(e).toPromise().then(function(t){console.debug("SQLite goal plan data api resp: ",t)}));console.debug("SQLite goal plan fail... ")},t}(),Z=function(){function t(){}return Object.defineProperty(t.prototype,"ClientId",{set:function(t){this._clientID=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"DataType",{set:function(t){this._personalDataType=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"TimeBase",{set:function(t){this._personalDataTimeBase=t},enumerable:!0,configurable:!0}),t.prototype.setDataYear=function(t){this._dataYear=t},t.prototype.getAPIName=function(){return"getProgressGoalPlan"},t.prototype.getMockPath=function(){return 2019==this._dataYear?"./assets/mock/getProgressGoalPlan_2019.json":2020==this._dataYear?"./assets/mock/getProgressGoalPlan_2020.json":(console.warn("datYear not match mock path"),"")},t.prototype.executeSQL=function(){throw new Error("Method not implemented.")},t}(),K=function(){function t(t){this._year=-1,this._daoFactory=t}return t.prototype.SetYear=function(t){this._year=t},t.prototype.getAPIName=function(){return"getTeamProgressDetail"},t.prototype.getMockPath=function(){return"./assets/mock/getTeamProgressDetailMock.json"},t.prototype.executeSQL=function(){console.debug("SQLite Start ");var t=this._daoFactory.getDefaultDao();console.debug("SQLite defaultDao: ",t);var e=this._daoFactory.getDefaultTable("TW_LH_SD_VW_Team_Progress_Detail");if(console.debug("SQLite tableObj: ",e),t!=undefined&&e!=undefined)return o.from(t.queryByTable(e).toPromise().then(function(t){return console.debug("SQLite getTeamProgressDetail resp: ",t),console.debug("SQLite getTeamProgressDetail json resp: ",JSON.stringify(t)),t}));o.of(!1),console.debug("SQLite failed")},t}(),X=function(){function t(t){this._year=-1,this._daoFactory=t}return t.prototype.SetYear=function(t){this._year=t},t.prototype.getAPIName=function(){return"getTeamProgressMain"},t.prototype.getMockPath=function(){return"./assets/mock/getTeamProgressMainMock.json"},t.prototype.executeSQL=function(){console.debug("SQLite Start ");var t=this._daoFactory.getDefaultDao();console.debug("SQLite defaultDao: ",t);var e=this._daoFactory.getDefaultTable("TW_LH_SD_VW_Team_Progress_Main");if(console.debug("SQLite tableObj: ",e),t!=undefined&&e!=undefined)return o.from(t.queryByTable(e).toPromise().then(function(t){return console.debug("SQLite getTeamProgressMain resp: ",t),console.debug("SQLite getTeamProgressMain json resp: ",JSON.stringify(t)),t}));o.of(!1),console.debug("SQLite failed")},t}(),$=function(){function t(){}return Object.defineProperty(t.prototype,"ClientId",{set:function(t){this._clientID=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"DataType",{set:function(t){this._personalDataType=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"TimeBase",{set:function(t){this._personalDataTimeBase=t},enumerable:!0,configurable:!0}),t.prototype.getAPIName=function(){return"getPersonalProgressOld"},t.prototype.getMockPath=function(){return"./assets/mock/getPersonalProgress.json"},t.prototype.executeSQL=function(){throw new Error("Method not implemented.")},t}(),tt=function(){function t(t){this._year=-1,this._daoFactory=t}return t.prototype.SetYear=function(t){this._year=t},t.prototype.getAPIName=function(){return"getYearConfiguration"},t.prototype.getMockPath=function(){return"./assets/mock/getYearConfigurationMock.json"},t.prototype.executeSQL=function(){console.debug("SQLite Start year configuration ");var t=this._daoFactory.getDefaultDao();console.debug("SQLite defaultDao: ",t);var e=this._daoFactory.getDefaultTable("TW_LH_SD_VW_Year_Config");if(console.debug("SQLite tableObj: ",e),t!=undefined&&e!=undefined)return o.from(t.queryByTable(e).toPromise().then(function(t){return console.debug("SQLite getYearConfiguration resp: ",t),console.debug("SQLite getYearConfiguration json resp: ",JSON.stringify(t)),t}));o.of(!1),console.debug("SQLite failed")},t}(),et=function(){function t(t){this._addType="",this._year=-1,this._addPointNum=1,this._daoFactory=t}return t.prototype.SetAddType=function(t){this._addType=t},t.prototype.SetYear=function(t){this._year=t},t.prototype.SetPointNum=function(t){this._addPointNum=t},t.prototype.getAPIName=function(){return"addPoint"},t.prototype.getMockPath=function(){return"./assets/mock/saveSuccess.json"},t.prototype.executeSQL=function(){var e=this;if(console.log("AddPointAPI add "+this._addType+" point"),console.log("this._addType",this._addType,"this._year",this._year),d.StringUtils.isNotEmpty(this._addType)&&-1!=this._year){this.dao=this._daoFactory.getDefaultDao();return o.from(Promise.all(["Day","Week","Month","Quarter","Year"].map(function(t){return e._addPoint(t)})).then(function(){var t=e.dao.runTransaction().toPromise();return console.log("addResp",t),t}))}return o.of(!1)},t.prototype._addPoint=function(n){return function t(e,o,s,l){return new(s||(s=Promise))(function(t,r){function a(t){try{n(l.next(t))}catch(e){r(e)}}function i(t){try{n(l["throw"](t))}catch(e){r(e)}}function n(e){e.done?t(e.value):new s(function(t){t(e.value)}).then(a,i)}n((l=l.apply(e,o||[])).next())})}(this,void 0,void 0,function(){var e,r,a,i;return u(this,function(t){switch(t.label){case 0:return console.log("into _addPoint()"),console.log("timeBase",n),e=0,r=this._daoFactory.getDefaultTable("TW_LH_SD_Personal_Progress"),console.log("SQLite tableObj: ",r),r.addRestriction(new d.EqualRestriction("DataYear",[this._year])),r.addRestriction(new d.EqualRestriction("TimeBase",[n])),r.addRestriction(new d.EqualRestriction("DataType",["Actual"])),a=null,[4,this.dao.queryByTable(r).toPromise()];case 1:return i=t.sent(),console.log("AddPointAPI getResp",i),i.Header.status&&0<i.Body.length&&(a=i.Body[0],"customer"==this._addType?(e=a.Find,r.setValue("Find",e+this._addPointNum)):"calendar"==this._addType&&(e=a.Schedule,r.setValue("Schedule",e+this._addPointNum)),console.log("AddPointAPI PersonalPorgress",r),this.dao.transactionUpdate(r)),[2]}})})},t}();t.ProgressService=A,t.ProgressActualValue=I,t.ConfigurationObj=c,t.PersonalData=x,t.PersonalDataState=V,t.PersonalObj=m,t.ProgressPersonalData=f,t.ProgressBarControlData=w,t.ProgressDirectData=W,t.ProgressDirectIndirectData=_,t.ProgressIndirectData=B,t.ProgressObj=P,t.ProgressTeamData=b,t.ProgressYearConfig=h,t.ProgressYearObj=S,t.TeamDataState=R,t.TeamObj=D,t.ProgressListContentClass=C,t.ProgressContentClass=j,t.ProgressActivityListContentClass=L,t.ProgressMonthlyContentClass=O,t.ProgressTeamContentClass=F,t.ProgressTeamDirectContentClass=Y,t.ProgressTeamIndirectContentClass=Q,t.ProgressTeamMainContentClass=N,t.ProgressHeadContentClass=G,t.InfoContentClass=q,t.ActivitiesType={Find:"F",Schedule:"S",Meet:"M",Submit:"Su",Inforce:"I",Unknow:"Unknow"},t.ActualValueDataType={FYFC:"FYFC",ANP:"ANP"},t.DirectUnitType=v,t.PerformanceType={Personal:"P",Team:"T",unknow:"U"},t.PersonalDataTimeBase=p,t.PersonalDataType=g,t.ProgressBarControlModeType=M,t.ProgressDataTeamValueType=y,t.Quarters={Q1:"Q1",Q2:"Q2",Q3:"Q3",Q4:"Q4",Unknow:"unknow"},t.Tag=T,t.ProgressModule=k,t.GetPersonalProgressAPI=U,t.GetProgressActualValueAPI=E,t.GetProgressDataActualValueAPI=H,t.GetProgressDataAPI=J,t.GetProgressDataGoalSettingPlanAPI=z,t.GetProgressGoalPlanAPI=Z,t.GetTeamProgressDetailAPI=K,t.GetTeamProgressMainAPI=X,t.PersonalProgressOldAPI=$,t.GetYearConfigurationAPI=tt,t.AddPointAPI=et,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=allianzSND-progress.umd.min.js.map